import{_ as t}from"./plugin-vueexport-helper.2444895f.js";import{o as a,c as r,e as i,a as n,b as s,d as l,f as e,r as p}from"./app.dc8bd00f.js";const d={},c=n("p",null,"\u6709/\u65E0\u72B6\u6001\u534F\u8BAE",-1),g=e('<h2 id="_1-\u534F\u8BAE\u72B6\u6001" tabindex="-1"><a class="header-anchor" href="#_1-\u534F\u8BAE\u72B6\u6001" aria-hidden="true">#</a> 1. \u534F\u8BAE\u72B6\u6001</h2><p>\u4E03\u5C42\u7F51\u7EDC\u534F\u8BAE\uFF0C\u5927\u591A\u90FD\u662F\u6709\u72B6\u6001\u534F\u8BAE\uFF0C\u5982 <strong>SMTP</strong> \uFF0C\u4F46 <strong>HTTP</strong> \u534F\u8BAE\uFF0C\u5219\u662F\u65E0\u72B6\u6001\u534F\u8BAE</p><h4 id="_1-1-\u6709\u72B6\u6001\u534F\u8BAE" tabindex="-1"><a class="header-anchor" href="#_1-1-\u6709\u72B6\u6001\u534F\u8BAE" aria-hidden="true">#</a> 1.1 \u6709\u72B6\u6001\u534F\u8BAE</h4><p>\u5982 <strong>SMTP</strong> \u534F\u8BAE</p><ul><li>\u53D1\u9001\u524D\u5FC5\u987B\u5148\u5EFA\u7ACB <strong>TCP</strong> \u8FDE\u63A5\uFF0C\u5E76\u53D1\u9001 <strong>HELO/EHLO</strong> \u5EFA\u7ACB\u4F1A\u8BDD</li><li>\u7136\u540E\u8FDB\u5165 <strong>AUTH</strong> \u8BA4\u8BC1</li><li>\u8BA4\u8BC1\u901A\u8FC7\u624D\u53EF\u4EE5\u53D1\u9001\u6570\u636E</li><li>\u901A\u8FC7 <strong>QUI</strong> \u547D\u4EE4\u5173\u95ED\u4F1A\u8BDD</li></ul><p>\u5982\u4E0A\uFF0C\u6574\u4E2A\u901A\u4FE1\u8FC7\u7A0B\uFF0C\u53CC\u65B9\u662F\u5FC5\u987B\u8981\u65F6\u523B\u8BB0\u4F4F\u5F53\u524D\u8FDE\u63A5\u7684\u72B6\u6001\u7684\uFF0C\u4E0D\u540C\u72B6\u6001\u80FD\u63A5\u53D7\u7684\u547D\u4EE4\u662F\u4E0D\u540C\u7684\u3002\u53E6\u5916\uFF0C\u4E4B\u524D\u547D\u4EE4\u4F20\u8F93\u7684\u67D0\u4E9B\u6570\u636E\u4E5F\u5FC5\u987B\u8981\u8BB0\u4F4F\uFF0C\u56E0\u4E3A\u53EF\u80FD\u4F1A\u5BF9\u540E\u7EED\u7684\u547D\u4EE4\u4EA7\u751F\u5F71\u54CD</p><p>\u8FD9\u79CD\u6709\u8BB0\u5FC6\u529F\u80FD\u7684\uFF0C\u5C31\u662F\u6709\u72B6\u6001\u534F\u8BAE\uFF0C\u901A\u5E38\u7EF4\u62A4\u72B6\u6001\u4EE3\u4EF7\u8F83\u9AD8</p><h4 id="_1-2-http1-x-\u65E0\u72B6\u6001\u534F\u8BAE" tabindex="-1"><a class="header-anchor" href="#_1-2-http1-x-\u65E0\u72B6\u6001\u534F\u8BAE" aria-hidden="true">#</a> 1.2 HTTP1.X \u65E0\u72B6\u6001\u534F\u8BAE</h4><p>\u6307\u534F\u8BAE\u5BF9\u4E8E\u4EA4\u4E92\u6027\u573A\u666F\uFF0C\u6CA1\u6709\u8BB0\u5FC6\u80FD\u529B</p><ul><li>\u6BCF\u4E2A\u8BF7\u6C42\uFF08<em>\u4EA4\u4E92</em>\uFF09\u90FD\u662F\u72EC\u7ACB\u7684\uFF0C\u672C\u6B21\u8BF7\u6C42\u4E0D\u4F1A\u57FA\u4E8E\u4E0A\u6B21\u8BF7\u6C42\u6709\u4EFB\u4F55\u6539\u53D8 <ul><li>\u6BD4\u5982\uFF1A\u7528\u6237\u767B\u5F55\uFF0C\u548C\u628A\u4E1C\u897F\u52A0\u5165\u8D2D\u7269\u8F66\uFF0C<strong>HTTP</strong> \u4E0D\u4F1A\u53BB\u8BB0\u5F55\u8C01 \u548C \u4ED6\u5E72\u4E86\u4EC0\u4E48\uFF0C\u662F <strong>\u5B8C\u5168\u65E0\u4F9D\u8D56</strong> \u7684</li></ul></li><li>\u6CA1\u6709\u8BB0\u5FC6\u80FD\u529B\uFF0C\u5373<strong>\u65E0\u5B58\u50A8</strong><ul><li>\u56E0\u6B64\u9700\u8981\u5916\u90E8\u3001\u5982 <strong>Cookie</strong>\u3001<strong>Session</strong> \u7B49\u4E3A\u4EA4\u4E92\u5B58\u50A8\u72B6\u6001</li></ul></li><li>\u548C <strong>TCP/IP</strong> \u4E0D\u540C\uFF0C\u53D1\u8FC7\u53BB\u5C31\u65AD\u5F00\u4E86</li><li>\u51CF\u5C11\u670D\u52A1\u5668\u7684 <strong>CPU</strong> \u548C \u5185\u5B58 \u5F00\u9500</li></ul><h2 id="_2-cookie" tabindex="-1"><a class="header-anchor" href="#_2-cookie" aria-hidden="true">#</a> 2. Cookie</h2><p>\u82F1\u6587\u7FFB\u8BD1\u4E3A \u751C\u54C1\uFF0C\u4F7F\u7528 <strong>Cookie</strong> \u53EF\u81EA\u52A8\u586B\u5199\u7528\u6237\u540D\u3001\u8BB0\u4F4F\u5BC6\u7801\u7B49\uFF0C\u7B97\u662F\u7ED9\u7528\u6237\u7684\u4E00\u70B9\u751C\u5934</p><h2 id="_3-session" tabindex="-1"><a class="header-anchor" href="#_3-session" aria-hidden="true">#</a> 3. Session</h2><p>\u56E0\u4E3A\u5B58\u5165 <strong>Cookie</strong>\uFF0C\u6709\u6CC4\u5BC6\u98CE\u9669\uFF0C\u56E0\u6B64\u5C06\u673A\u5BC6\u4FE1\u606F\u5B58\u5165\u670D\u52A1\u5668\uFF0C\u901A\u8FC7\u670D\u52A1\u5668\u6765\u7EF4\u62A4\u5BA2\u6237\u6863\u6848</p><ul><li>\u53EF\u4EE5\u7406\u89E3\u4E3A\u670D\u52A1\u7AEF\u5B58\u50A8\u4E86\u4E00\u5F20 <strong>User \u8868</strong>\uFF0C <strong>SessionID</strong> \u5373\u8BE5\u8868\u4E3B\u952E</li><li>\u5360\u7528\u670D\u52A1\u5668\u8D44\u6E90\uFF0C\u7528\u6237\u90FD\u8981\u53BB <strong>Session</strong> \u670D\u52A1\u5668\u6388\u6743\uFF0C\u56E0\u6B64\u9650\u5236\u8D1F\u8F7D\u5747\u8861\u80FD\u529B</li><li>\u53EF\u4EE5<strong>CSRF</strong> \u8DE8\u57DF\u4F2A\u9020\u8BF7\u6C42\uFF0C\u4F9D\u7136\u6CC4\u5BC6</li></ul><h2 id="_4-token" tabindex="-1"><a class="header-anchor" href="#_4-token" aria-hidden="true">#</a> 4. Token</h2><p>\u4EE4\u724C\u9274\u6743\uFF0C\u4E0D\u5B58\u7528\u6237\u4FE1\u606F\u4E86\uFF0C<strong>\u91C7\u7528\u4E0D\u540C\u7684\u52A0\u5BC6\u65B9\u5F0F\u8FDB\u884C\u6570\u5B57\u7B7E\u540D</strong></p><ul><li>\u7528\u6237\u8BBF\u95EE\u670D\u52A1\u5668\u53BB\u5230\u52A0\u5BC6\u540E\u7684\u4EE4\u724C\uFF0C\u540E\u7EED\u8BBF\u95EE\u76F4\u63A5\u4F7F\u7528\u4EE4\u724C\u5373\u53EF</li><li>\u54EA\u6015\u4E0B\u6B21\u8BBF\u95EE\u8D1F\u8F7D\u5747\u8861\u7684\u5176\u4ED6\u8282\u70B9\uFF0C\u4E5F\u53EF\u4EE5\u6839\u636E\u4EE4\u724C\u8FDB\u884C\u9274\u6743</li><li>\u574F\u5904\u662F\u4F9D\u7136\u9700\u8981\u67E5\u5E93\uFF08\u53BB\u6570\u636E\u5E93\u67E5\u8BE2\u8BA4\u8BC1\u4FE1\u606F\uFF0C\u8FDB\u884C\u9274\u6743\uFF09</li></ul><blockquote><p>\u56E0\u6B64\u4E3A\u4E86\u670D\u52A1\u5668\u4E0D\u5B58\u50A8\u3001\u4E0D\u67E5\u5E93\u3001\u80FD\u9274\u6743\uFF0C\u8BDE\u751F\u4E86\u5982\u4ECA\u7684 <strong>JWT</strong></p></blockquote><h2 id="_5-jwt" tabindex="-1"><a class="header-anchor" href="#_5-jwt" aria-hidden="true">#</a> 5. JWT</h2><p>\u65F6\u4E0B\u6700\u6D41\u884C\u7684\u8DE8\u57DF\u8BA4\u8BC1\u89E3\u51B3\u65B9\u6848</p>',21),u={href:"http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html",target:"_blank",rel:"noopener noreferrer"},h=n("strong",null,"JSON Web Token",-1),m=n("strong",null,"JSON",-1),k=e(`<h4 id="_5-1-\u7EC4\u6210\u90E8\u5206" tabindex="-1"><a class="header-anchor" href="#_5-1-\u7EC4\u6210\u90E8\u5206" aria-hidden="true">#</a> 5.1 \u7EC4\u6210\u90E8\u5206</h4><p>\u901A\u5E38\u7531\u4E09\u90E8\u5206\u7EC4\u6210\uFF0C\u5B83\u4EEC\u4E4B\u95F4\u7528\u5706\u70B9 <code>.</code> \u8FDE\u63A5</p><ul><li><p><strong>Header:</strong> \u4E24\u90E8\u5206\u7EC4\u6210\uFF0C\u5305\u62EC <strong>token</strong> \u7C7B\u578B &amp; \u52A0\u5BC6\u7B97\u6CD5\uFF08<em><strong>HMAC SHA256</strong> \u6216\u8005 <strong>RSA</strong></em>\uFF09</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;alg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HS256&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;typ&quot;</span><span class="token operator">:</span> <span class="token string">&quot;JWT&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>Payload:</strong> \u5305\u542B\u58F0\u660E\uFF0C\u6307\u5173\u4E8E\u7528\u6237\u548C\u5176\u4ED6\u6570\u636E\u7684\u58F0\u660E\uFF0C\u5B58\u653E\u5B9E\u9645\u4F20\u9012\u7684\u6570\u636E\uFF0C\u6709\u4E09\u79CD\u7C7B\u578B\uFF1A</p><ul><li><strong>Registered claims\uFF1A</strong> \u9884\u5B9A\u4E49\u58F0\u660E\uFF0C\u975E\u5F3A\u5236\uFF0C\u5982\uFF1A<strong>iss (issuer), exp (expiration time), sub (subject), aud (audience)</strong> \u7B49</li><li><strong>Public claims\uFF1A</strong> \u53EF\u968F\u610F\u5B9A\u4E49</li><li><strong>Private claims\uFF1A</strong> \u7528\u4E8E\u5728\u540C\u610F\u4F7F\u7528\u5B83\u4EEC\u7684\u5404\u65B9\u4E4B\u95F4\u5171\u4EAB\u4FE1\u606F\uFF0C\u5E76\u4E14\u4E0D\u662F\u6CE8\u518C\u7684\u6216\u516C\u5F00\u7684\u58F0\u660E</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;sub&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1234567890&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;john&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;admin&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5BF9 <strong>payload</strong> \u8FDB\u884C <strong>Base64</strong> \u7F16\u7801\u5C31\u4F1A\u5F97\u5230 <strong>JWT</strong> \u7684\u7B2C\u4E8C\u90E8\u5206</p></li></ul><blockquote><p><strong>\u6CE8\u610F:</strong> \u4E0D\u8981\u5728 <strong>payload</strong> \u6216 <strong>header</strong> \u4E2D\u653E\u7F6E\u654F\u611F\u4FE1\u606F\uFF0C\u56E0\u4E3A\u9ED8\u8BA4\u662F\u4E0D\u52A0\u5BC6\u7684</p></blockquote><ul><li><p><strong>Signature:</strong> \u5BF9\u4E0A\u9762\u4E24\u90E8\u5206\u7684\u7B7E\u540D\uFF0C\u9632\u6B62\u6D88\u606F\u88AB\u7BE1\u6539</p><p>\u9700\u8981\u6307\u5B9A\u4E00\u4E2A\u53EA\u6709\u670D\u52A1\u5668\u77E5\u9053\u7684\u5BC6\u94A5\uFF08<em><strong>secret</strong></em> \uFF09\u4E0D\u80FD\u6CC4\u9732\u7ED9\u7528\u6237\uFF0C\u7136\u540E\u6309\u7167\u5982\u4E0B\u5F62\u5F0F\u751F\u6210\u7B7E\u540D</p><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code>HMACSHA256(
  base64UrlEncode(header) + &quot;.&quot; +
  base64UrlEncode(payload),
  secret)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_5-2-jwt-\u4F7F\u7528\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_5-2-jwt-\u4F7F\u7528\u65B9\u5F0F" aria-hidden="true">#</a> 5.2 JWT \u4F7F\u7528\u65B9\u5F0F</h4><p>\u5BA2\u6237\u7AEF\u6536\u5230\u670D\u52A1\u5668\u8FD4\u56DE\u7684 <strong>JWT</strong>\uFF0C\u53EF\u4EE5\u50A8\u5B58\u5728 <strong>Cookie</strong> \u91CC\u9762\uFF0C\u4E5F\u53EF\u4EE5\u50A8\u5B58\u5728 <strong>LocalStorage</strong></p><p>\u6B64\u540E\uFF0C\u5BA2\u6237\u7AEF\u6BCF\u6B21\u4E0E\u670D\u52A1\u5668\u901A\u4FE1\uFF0C\u90FD\u8981\u5E26\u4E0A\u8FD9\u4E2A <strong>JWT</strong></p><p>\u53EF\u628A\u5B83\u653E\u5728 <strong>Cookie</strong> \u91CC\u81EA\u52A8\u53D1\u9001\uFF0C\u4F46\u8FD9\u6837\u4E0D\u80FD\u8DE8\u57DF\u3002\u66F4\u597D\u7684\u505A\u6CD5\u662F\u653E <strong>HTTP \u8BF7\u6C42\u5934</strong> \u7684 <strong>Authorization</strong>\u5B57\u6BB5\u91CC</p><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer &lt;token&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u53E6\u4E00\u79CD\u662F\uFF0C\u8DE8\u57DF\u7684\u65F6\u5019\uFF0C<strong>JWT</strong> \u5C31\u653E\u5728 <strong>POST</strong> \u8BF7\u6C42\u7684\u6570\u636E\u4F53\u91CC\u9762</p>`,11);function _(v,b){const o=p("ExternalLinkIcon");return a(),r("div",null,[c,i("more"),g,n("p",null,[n("a",u,[s("JWT"),l(o)]),s(" \u5168\u79F0 "),h,s(" \u5B83\u53EF\u4EE5\u5C06\u6240\u6709\u4FE1\u606F\u90FD\u4EE5 "),m,s(" \u683C\u5F0F\u5B58\u50A8\uFF0C\u5305\u62EC \u7528\u6237\u540D\u3001\u5BC6\u7801\u3001\u52A0\u5BC6\u4FE1\u606F\u7B49")]),k])}const x=t(d,[["render",_],["__file","\u72B6\u6001\u7BA1\u7406.html.vue"]]);export{x as default};
