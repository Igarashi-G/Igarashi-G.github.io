import{_ as d}from"./plugin-vueexport-helper.2444895f.js";import{o as u,c as b,e as m,a as n,b as s,d as a,w as t,f as o,r as l}from"./app.bde43de3.js";const v="/assets/rawgithosts.f7fd7465.jpg",g="/assets/py-bt.884d87a7.jpg",k="/assets/info-thrads.72205c80.jpg",h="/assets/select-thread.13acd8bb.jpg",_={},f=n("p",null,"\u5FEB\u901F\u6392\u67E5\u6545\u969C\u3001\u5B9A\u4F4D\u95EE\u9898",-1),y=n("h2",{id:"_1-gdb",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-gdb","aria-hidden":"true"},"#"),s(" 1. gdb")],-1),x={href:"https://man7.org/linux/man-pages/man1/strace.1.html",target:"_blank",rel:"noopener noreferrer"},P=n("strong",null,"gdb",-1),S=n("strong",null,"C",-1),w=n("h3",{id:"_1-1-\u5B89\u88C5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-1-\u5B89\u88C5","aria-hidden":"true"},"#"),s(" 1.1 \u5B89\u88C5")],-1),$={href:"https://man7.org/linux/man-pages/man1/gdb.1.html",target:"_blank",rel:"noopener noreferrer"},C=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[s("$ yum "),n("span",{class:"token parameter variable"},"-y"),s(),n("span",{class:"token function"},"install"),s(` yum-utils

$ debuginfo-install glibc

`),n("span",{class:"token comment"},"# \u4F1A\u51FA\u73B0\u5982\u4E0B\u5305\u7684\u63D0\u793A"),s(`
Package                                Arch        Version               Repository           Size
`),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),n("span",{class:"token operator"},"=="),s(`
Installing:
 glibc-debuginfo                        x86_64      `),n("span",{class:"token number"},"2.17"),s("-326.el7_9        base-debuginfo      "),n("span",{class:"token number"},"9.5"),s(` M
 nss-softokn-debuginfo                  x86_64      `),n("span",{class:"token number"},"3.44"),s(".0-8.el7_7        base-debuginfo      "),n("span",{class:"token number"},"2.1"),s(` M
 yum-plugin-auto-update-debug-info      noarch      `),n("span",{class:"token number"},"1.1"),s(".31-54.el7_8       base                 "),n("span",{class:"token number"},"29"),s(` k
Installing `),n("span",{class:"token keyword"},"for"),s(` dependencies:
 glibc-debuginfo-common                 x86_64      `),n("span",{class:"token number"},"2.17"),s("-326.el7_9        base-debuginfo      "),n("span",{class:"token number"},"9.7"),s(` M
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),q=n("p",null,"\u82E5\u62A5\u9519\uFF0C\u5219\u9700\u8981\u6267\u884C\u5982\u4E0B\u6539\u52A8",-1),N=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token comment"},"# \u4E0D\u5B58\u5728\u8BE5\u6587\u4EF6\u5219\u521B\u5EFA\uFF0C\u6709\u5219\u6539\u5199\u5982\u4E0B"),s(`
$ `),n("span",{class:"token function"},"vim"),s(` /etc/yum.repos.d/CentOS-Debuginfo.repo

`),n("span",{class:"token punctuation"},"["),s("base-debuginfo"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token assign-left variable"},"name"),n("span",{class:"token operator"},"="),s(`CentOS-7 - Debuginfo
`),n("span",{class:"token assign-left variable"},"baseurl"),n("span",{class:"token operator"},"="),s("http://debuginfo.centos.org/7/"),n("span",{class:"token variable"},"$basearch"),s(`/
`),n("span",{class:"token assign-left variable"},"gpgcheck"),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"1"),s(`
`),n("span",{class:"token assign-left variable"},"gpgkey"),n("span",{class:"token operator"},"="),s(`file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-Debug-7
- `),n("span",{class:"token assign-left variable"},"enabled"),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"0"),s(`
+ `),n("span",{class:"token assign-left variable"},"enabled"),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"1"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),E=n("p",null,[s("\u7136\u540E\u518D\u5B89\u88C5 "),n("strong",null,"gdb")],-1),T=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token comment"},"# \u5B89\u88C5 gdb python3-debuginfo \u6CE8\u610F\u662F python3"),s(`
yum `),n("span",{class:"token parameter variable"},"-y"),s(),n("span",{class:"token function"},"install"),s(` gdb python3-debuginfo
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),D=n("p",null,[s("\u6267\u884C "),n("code",null,"gdb python")],-1),G=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[s(`$ gdb python3
GNU gdb `),n("span",{class:"token punctuation"},"("),s("GDB"),n("span",{class:"token punctuation"},")"),s(" Red Hat Enterprise Linux "),n("span",{class:"token number"},"7.6"),s(`.1-120.el7
Copyright `),n("span",{class:"token punctuation"},"("),s("C"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token number"},"2013"),s(` Free Software Foundation, Inc.
License GPLv3+: GNU GPL version `),n("span",{class:"token number"},"3"),s(" or later "),n("span",{class:"token operator"},"<"),s("http://gnu.org/licenses/gpl.html"),n("span",{class:"token operator"},">"),s(`
`),n("span",{class:"token punctuation"},".."),s(`.
Reading symbols from /opt/miniconda3/bin/python3.9`),n("span",{class:"token punctuation"},".."),s(`.done.
`),n("span",{class:"token punctuation"},"("),s("gdb"),n("span",{class:"token punctuation"},")"),s(` 
`),n("span",{class:"token comment"},"# \u6CE8\u610F\u6700\u540E\u7684\u7248\u672C\u53F7"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),L=n("div",{class:"language-bash ext-sh line-numbers-mode"},[n("pre",{class:"language-bash"},[n("code",null,[s("$ "),n("span",{class:"token function"},"apt-get"),s(),n("span",{class:"token function"},"install"),s(` gdb python3-dbg
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),O=n("p",null,[s("\u8FD8\u9700\u8981\u88C5\u4E00\u4E2A\u5305 "),n("code",null,"python3-dbg"),s(" \uFF0C \u8FD9\u4E2A\u5305\u6709\u4EC0\u4E48\u4F5C\u7528\u5462\uFF1F \u524D\u9762\u4E0D\u662F\u62B1\u6028\u8FC7 "),n("code",null,"C"),s(" \u5806\u6808\u5BF9\u4E8E\u8C03\u8BD5\u4E00\u4E2A "),n("code",null,"Python"),s(" \u6709\u4F55\u7528\uFF1F \u6211\u4EEC\u66F4\u9700\u8981\u7684\u662F "),n("code",null,"Python"),s(" \u5806\u6808\u4FE1\u606F\uFF0C "),n("code",null,"python-dbg"),s(" \u5C31\u662F\u4E3A\u4E86\u5B8C\u6210\u8FD9\u4E2A\u4F7F\u547D")],-1),I=n("h3",{id:"_1-2-\u8FD0\u884C",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-2-\u8FD0\u884C","aria-hidden":"true"},"#"),s(" 1.2 \u8FD0\u884C")],-1),M=n("code",null,"Python",-1),V={href:"https://man7.org/linux/man-pages/man1/gdb.1.html",target:"_blank",rel:"noopener noreferrer"},A=n("code",null,"gdb shell",-1),j=n("code",null,"Python",-1),B=o(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u542F\u52A8 </span>
$ gdb python
<span class="token punctuation">..</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> run <span class="token operator">&lt;</span>programname<span class="token operator">&gt;</span>.py <span class="token operator">&lt;</span>arguments<span class="token operator">&gt;</span>

<span class="token comment"># \u4E00\u6761\u547D\u4EE4</span>
$ gdb <span class="token parameter variable">-ex</span> r <span class="token parameter variable">--args</span> python <span class="token operator">&lt;</span>programname<span class="token operator">&gt;</span>.py <span class="token operator">&lt;</span>arguments<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B63\u5728\u8FD0\u884C\u7684\u7A0B\u5E8F\u7A81\u7136\u5F02\u5E38\uFF0C\u9700\u8981\u8C03\u8BD5\u5B83\uFF0C\u82E5\u53BB\u7ED9\u5B83\u53D1\u4E2A\u4FE1\u53F7\uFF0C\u51FA\u4E00\u4E2A <code>coredump</code> \u6587\u4EF6\uFF0C\u7136\u540E\u7528 <code>gdb</code> \u6765\u8C03\u8BD5 <code>coredump</code> \u6587\u4EF6\uFF0C\u50CF\u8FD9\u6837</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u8C03\u8BD5 coredump \u6587\u4EF6</span>
$ gdb <span class="token operator">&lt;</span>coredump_file<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u663E\u7136\u6613\u89C1\uFF0C\u4E0D\u662F\u79CD\u597D\u7684\u65B9\u5F0F\uFF0C\u82E5\u6355\u83B7\u8FDB\u7A0B\u8C03\u8BD5\uFF0C\u6548\u7387\u624D\u9AD8</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u83B7\u53D6 python \u8FDB\u7A0Bid</span>
$ <span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span><span class="token function">grep</span> python
$ pstree <span class="token parameter variable">-p</span> pid
$ <span class="token function">strace</span> <span class="token parameter variable">-p</span> pid

<span class="token comment"># \u8FDB\u5165\u8C03\u8BD5</span>
$ gdb python <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span>process id<span class="token operator">&gt;</span> 
$ gdb attach <span class="token operator">&lt;</span>process id<span class="token operator">&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E24\u79CD\u65B9\u5F0F\u90FD\u53EF\u4EE5\u8BA9 <code>gdb</code> \u6355\u83B7\u4E00\u4E2A\u8FDB\u7A0B\u3002 \u56E0\u6B64\uFF0C\u9700\u8981\u505A\u7684\u53EA\u662F\u786E\u5B9A\u95EE\u9898\u8FDB\u7A0B\u7684 <code>pid</code> \uFF0C\u5982\u4F7F\u7528 <code>top</code> \u3001 <code>ps</code> \u7B49\u547D\u4EE4\u786E\u5B9A <strong>Python</strong> \u8FDB\u7A0B</p><h3 id="_1-3-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_1-3-\u4F7F\u7528" aria-hidden="true">#</a> 1.3 \u4F7F\u7528</h3><h4 id="\u5806\u6808\u67E5\u770B" tabindex="-1"><a class="header-anchor" href="#\u5806\u6808\u67E5\u770B" aria-hidden="true">#</a> <strong>\u5806\u6808\u67E5\u770B</strong></h4><p>\u67E5\u770B <code>C</code> \u5806\u6808\u4FE1\u606F\u4F7F\u7528 <code>bt</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> bt
<span class="token comment">#0 0x0000002a95b3b705 in raise () from /lib/libc.so.6</span>
<span class="token comment">#1 0x0000002a95b3ce8e in abort () from /lib/libc.so.6</span>
<span class="token comment">#2 0x00000000004c164f in posix_abort (self=0x0, noargs=0x0) at ../Modules/posixmodule.c:7158</span>
<span class="token comment">#3 0x0000000000489fac in call_function (pp_stack=0x7fbffff110, oparg=0) at ../Python/ceval.c:3531</span>
<span class="token comment">#4 0x0000000000485fc2 in PyEval_EvalFrame (f=0x66ccd8) at ../Python/ceval.c:2163</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u90A3\u4E48\u67E5\u770B <strong>Python</strong> \u5806\u6808\u5219\u8981\u5728\u5B89\u88C5 <code>python-gdb</code> \u4E4B\u540E\uFF0C <code>gdb</code> \u624D\u4F1A\u63D0\u4F9B\u82E5\u5E72\u76F8\u5173\u7684\u64CD\u4F5C</p><p>\u4F7F\u7528 <code>py-bt</code> \u5C31\u662F\u7528\u6765\u67E5\u770B <code>Python</code> \u5806\u6808</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> py-bt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,13),R={class:"custom-container warning"},z=n("p",{class:"custom-container-title"},"\u6CE8\u610F",-1),F=n("code",null,'Undefined command: "py-bt". Try "help"',-1),H=n("strong",null,"gdb",-1),U=n("strong",null,"python2.7",-1),K=n("strong",null,"CentOS",-1),Q=n("code",null,"libpython.py",-1),W=n("strong",null,"gdb",-1),Y={href:"http://pythonx.x-gdb.py",target:"_blank",rel:"noopener noreferrer"},J={href:"https://github.com/python/cpython/blob/master/Tools/gdb/libpython.py",target:"_blank",rel:"noopener noreferrer"},X=o(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/python/cpython/main/Tools/gdb/libpython.py

<span class="token comment"># \u8FDE\u4E0D\u901A\u9700\u8981\u4F7F\u7528\u81EA\u5DF1\u7684\u4EE3\u7406</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">all_proxy</span><span class="token operator">=</span><span class="token string">&quot;https://192.168.3.97:7890&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u82E5 <strong>DNS</strong> \u89E3\u6790\u5931\u8D25\u9700\uFF0C\u53BB\u7F51\u7AD9\u4E09\u65B9\u5DE5\u5177\u67E5 <strong>DNS</strong> \uFF0C\u7136\u540E\u4FEE\u6539 <code>/etc/hosts</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/hosts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="`+v+`"><p>\u82E5\u9700\u8981\u641C\u7D22\u67D0\u4E9B\u6587\u4EF6\uFF0C\u5219</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">find</span> / <span class="token parameter variable">-name</span> <span class="token string">&quot;*libpython*&quot;</span>

<span class="token comment"># \u6216\u5B89\u88C5\u5FEB\u901F\u67E5\u627E\u5DE5\u5177</span>
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">locate</span>

<span class="token comment"># \u66F4\u65B0\u6570\u636E\u5E93</span>
updatedb

<span class="token comment"># \u67E5\u627E\u67D0\u4E9B\u6587\u4EF6</span>
<span class="token function">locate</span> <span class="token string">&quot;*libpython*&quot;</span> <span class="token operator">|</span><span class="token function">grep</span> /
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),Z={href:"http://libpython.py",target:"_blank",rel:"noopener noreferrer"},nn=o(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> python
<span class="token operator">&gt;</span>import sys
<span class="token operator">&gt;</span>sys.path.insert<span class="token punctuation">(</span><span class="token number">0</span>, <span class="token string">&quot;/home/zz/CODE&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span>import libpython
<span class="token operator">&gt;</span>end
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> py-bt
Traceback <span class="token punctuation">(</span>most recent call first<span class="token punctuation">)</span>
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+g+'">',2),sn=o(`<h4 id="\u7EBF\u7A0B\u67E5\u770B" tabindex="-1"><a class="header-anchor" href="#\u7EBF\u7A0B\u67E5\u770B" aria-hidden="true">#</a> \u7EBF\u7A0B\u67E5\u770B</h4><p>\u8C03\u8BD5\u591A\u7EBF\u7A0B\u7A0B\u5E8F\uFF0C\u4F7F\u7528 <code>info threads</code>\uFF0C\u4F46\u603B\u5F97\u641E\u6E05\u695A\u5230\u5E95\u6709\u54EA\u4E9B\u7EBF\u7A0B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info threads
<span class="token punctuation">..</span>.
* <span class="token number">1</span>    Thread 0x7fce6e201740 <span class="token punctuation">(</span>LWP <span class="token number">2314</span><span class="token punctuation">)</span> <span class="token string">&quot;python&quot;</span> 0x00007fce6db070e3 <span class="token keyword">in</span> epoll_wait <span class="token punctuation">(</span><span class="token punctuation">)</span>
    at <span class="token punctuation">..</span>/sysdeps/unix/syscall-template.S:81
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+k+`"><p>\u8BF7\u6CE8\u610F <strong>*\u53F7</strong> \u54E6\u2014\u2014\u5B83\u6807\u8BC6\u7684\u662F\u5F53\u524D\u7EBF\u7A0B</p><p>\u5207\u6362\u7EBF\u7A0B\uFF0C\u5982\u5207\u6362\u5230 <strong>2</strong> \u53F7\u7EBF\u7A0B\uFF08<em>\u5C06\u5176\u8BBE\u7F6E\u4E3A\u5F53\u524D\u7EBF\u7A0B\u8FDB\u884C\u8C03\u8BD5</em> \uFF09</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> thread <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="`+h+`"><p>\u67E5\u770B\u5F53\u524D\u7EBF\u7A0B\u7684\u76F8\u5173\u4FE1\u606F\uFF0C\u5219\u4F7F\u7528 <code>py-list</code> \uFF0C\u53EF\u4EE5\u6E05\u695A\u770B\u5230\u5F53\u524D\u6267\u884C\u5230\u4EE3\u7801\u7684\u7B2C\u51E0\u884C\uFF0C \u8FD8\u6709\u524D\u540E\u82E5\u5E72\u884C\u7684\u4EE3\u7801\u53EF\u4EE5\u5BF9\u7167</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> py-list
<span class="token number">2025</span>         <span class="token comment"># Open external files with our Mac app</span>
<span class="token number">2026</span>         <span class="token keyword">if</span> sys.platform <span class="token operator">==</span> <span class="token string">&quot;darwin&quot;</span> and <span class="token string">&#39;Spyder.app&#39;</span> <span class="token keyword">in</span> __file__:
<span class="token number">2027</span>             main.connect<span class="token punctuation">(</span>app, SIGNAL<span class="token punctuation">(</span><span class="token string">&#39;open_external_file(QString)&#39;</span><span class="token punctuation">)</span>,
<span class="token number">2028</span>                          lambda fname: main.open_external_file<span class="token punctuation">(</span>fname<span class="token punctuation">))</span>
<span class="token number">2029</span>
<span class="token operator">&gt;</span><span class="token number">2030</span>        app.exec_<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">2031</span>         <span class="token builtin class-name">return</span> main
<span class="token number">2032</span>
<span class="token number">2033</span>
<span class="token number">2034</span>     def __remove_temp_session<span class="token punctuation">(</span><span class="token punctuation">)</span>:
<span class="token number">2035</span>         <span class="token keyword">if</span> osp.isfile<span class="token punctuation">(</span>TEMP_SESSION_PATH<span class="token punctuation">)</span>:
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u67E5\u770B\u6240\u6709\u8FDB\u7A0B\u6267\u884C\u4F4D\u7F6E</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>(gdb) thread apply all py-list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u547D\u4EE4\u5982\u4E0B\uFF1A</p><ul><li><p><code>py-bt :</code> \u8F93\u51FA <strong>python</strong> \u5E94\u7528\u7A0B\u5E8F\u8C03\u7528\u5806\u6808</p></li><li><p><code>py-bt-full :</code> \u67E5\u770B\u5F53\u524D <strong>python</strong> \u5E94\u7528\u7A0B\u5E8F\u8C03\u7528\u5806\u6808\uFF0C\u5E76\u4E14\u663E\u793A\u6BCF\u4E2A <strong>frame</strong> \u7684\u8BE6\u7EC6\u60C5\u51B5</p></li><li><p><code>py-list:</code> \u663E\u793A\u4EE3\u7801\u67E5\u770B\u5F53\u524D <strong>python</strong> \u5E94\u7528\u7A0B\u5E8F\u4E0A\u4E0B\u6587</p></li><li><p><code>py-print:</code> \u67E5\u770B <strong>python</strong> \u53D8\u91CF</p></li><li><p><code>py-locals:</code> \u67E5\u770B <strong>locals</strong> \u53D8\u91CF</p></li><li><p><code>py-up:</code> \u8C03\u7528\u6808 <strong>frame</strong> \u5411\u4E0A\u4E00\u7EA7</p></li><li><p><code>py-down:</code> \u8C03\u7528\u6808\u5411\u4E0B\u4E00\u7EA7</p></li></ul>`,14);function an(en,on){const e=l("ExternalLinkIcon"),p=l("Tabs");return u(),b("div",null,[f,m("more"),y,n("p",null,[s("\u5BF9\u4E8E\u6392\u67E5\u8FDB\u7A0B\u3001\u7EBF\u7A0B\u6545\u969C\u3001\u6B7B\u5FAA\u73AF\u3001\u6B7B\u9501\u3001Hung process \u7B49\u6545\u969C\uFF0C\u9664\u4E86\u7528 "),n("a",x,[s("strace"),a(e)]),s(" \u8DDF\u4E00\u4E0B\u7CFB\u7EDF\u8C03\u7528\u6765\u731C\u539F\u56E0\uFF0C\u76F8\u6BD4\u4E4B\u4E0B\u7528 "),P,s(" \u6765\u6253\u5370 "),S,s(" \u7684\u5806\u6808\u4FE1\u606F\uFF0C\u66F4\u52A0\u6709\u8BF4\u670D\u529B\u548C\u8BF4\u660E\u95EE\u9898")]),w,n("p",null,[s("\u9996\u5148\u5F97\u6709 "),n("a",$,[s("gdb"),a(e)]),s(" \u624D\u80FD\u67E5")]),a(p,{data:[{title:"CentOS"},{title:"Debian"}]},{tab0:t(({title:i,value:c,isActive:r})=>[C,q,N,E,T,D,G]),tab1:t(({title:i,value:c,isActive:r})=>[L,O]),_:1}),I,n("p",null,[s("\u5168\u65B0\u542F\u52A8\u4E00\u4E2A "),M,s(" \u7A0B\u5E8F\u5E76\u8FDB\u884C\u8C03\u8BD5\uFF0C\u53EF\u4EE5\u91C7\u7528\u4EA4\u4E92\u5F0F\u65B9\u5F0F\uFF0C \u5148\u542F\u52A8 "),n("a",V,[s("gdb"),a(e)]),s(" \u7136\u540E\u5728 "),A,s(" \u4E2D\u542F\u52A8 "),j,s(" \u7A0B\u5E8F")]),B,n("div",R,[z,n("p",null,[s("\u82E5\u63D0\u793A "),F,s(" \uFF0C\u8FD9\u591A\u534A\u662F "),H,s(" \u7ED1\u5B9A\u7684\u662F\u8001\u7248\u7684 "),U,s("\uFF0C\u5BF9\u4E8E "),K,s(" \u9700\u8981\u624B\u52A8\u5BFC\u5165 "),Q,s(" \u8BA9 "),W,s(" \u8BFB\u53D6\uFF08"),n("em",null,[n("strong",null,[s("Debian \u662F "),n("a",Y,[s("pythonx.x-gdb.py"),a(e)])])]),s(" \uFF09")]),n("p",null,[s("\u6545\u9700\u624B\u52A8\u4E0B\u8F7D "),n("a",J,[s("libpython.py"),a(e)]),s(" \u6587\u4EF6\u5230\u672C\u5730")]),X,n("p",null,[s("\u624B\u52A8\u5173\u8054 "),n("strong",null,[n("a",Z,[s("libpython.py"),a(e)])])]),nn]),sn])}const pn=d(_,[["render",an],["__file","\u6545\u969C\u5FEB\u67E5.html.vue"]]);export{pn as default};
