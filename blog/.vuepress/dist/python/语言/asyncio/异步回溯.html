<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://igarashi-g.github.io/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html"><meta property="og:site_name" content="äº”åå²š â–ª å¯„"><meta property="og:title" content="å¼‚æ­¥ç¼–ç¨‹å²å›æº¯"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-10-08T01:58:06.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-10-08T01:58:06.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3654399_e6xix4avjkd.css"><title>å¼‚æ­¥ç¼–ç¨‹å²å›æº¯ | äº”åå²š â–ª å¯„</title><meta name="description" content="äº”åå²šã®åšå®¢">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.97907a61.css">
    <link rel="modulepreload" href="/assets/app.ffe93e19.js"><link rel="modulepreload" href="/assets/å¼‚æ­¥å›æº¯.html.2aded649.js"><link rel="modulepreload" href="/assets/plugin-vueexport-helper.2444895f.js"><link rel="modulepreload" href="/assets/å¼‚æ­¥å›æº¯.html.9a2a30fd.js"><link rel="prefetch" href="/assets/home.html.5a08a41a.js"><link rel="prefetch" href="/assets/intro.html.708cb9fa.js"><link rel="prefetch" href="/assets/index.html.d36bfaba.js"><link rel="prefetch" href="/assets/slides.html.625b1fde.js"><link rel="prefetch" href="/assets/index.html.8d84bf85.js"><link rel="prefetch" href="/assets/disable.html.e5c6b2d4.js"><link rel="prefetch" href="/assets/encrypt.html.a9dc5b86.js"><link rel="prefetch" href="/assets/markdown.html.6c71d675.js"><link rel="prefetch" href="/assets/page.html.420ce2a4.js"><link rel="prefetch" href="/assets/index.html.c4175154.js"><link rel="prefetch" href="/assets/PSæ“ä½œåŸºç¡€.html.f33208ce.js"><link rel="prefetch" href="/assets/index.html.6534d858.js"><link rel="prefetch" href="/assets/SAIæ“ä½œåŸºç¡€.html.b935b378.js"><link rel="prefetch" href="/assets/index.html.34a213ac.js"><link rel="prefetch" href="/assets/index.html.5951c66f.js"><link rel="prefetch" href="/assets/asyncio_recipes.html.ebf94d80.js"><link rel="prefetch" href="/assets/devops_in_python.html.dfef3bf0.js"><link rel="prefetch" href="/assets/fluent_python.html.4e0ceb79.js"><link rel="prefetch" href="/assets/index.html.ac8a9a36.js"><link rel="prefetch" href="/assets/python_cookbook.html.7019a229.js"><link rel="prefetch" href="/assets/pythonæºç å‰–æ.html.c7855182.js"><link rel="prefetch" href="/assets/use_asyncio.html.a14b57ff.js"><link rel="prefetch" href="/assets/index.html.27d3f0d4.js"><link rel="prefetch" href="/assets/äºšåŠ¨æœºä¸äººæ ¼.html.3a368f30.js"><link rel="prefetch" href="/assets/äººçš„æ½œèƒ½å’Œä»·å€¼.html.a0342cee.js"><link rel="prefetch" href="/assets/å¥½äººæ˜¯å¦‚ä½•å˜æˆæ¶é­”çš„.html.24920c45.js"><link rel="prefetch" href="/assets/å½±å“åŠ›.html.de751fba.js"><link rel="prefetch" href="/assets/æ€§å¿ƒç†å­¦.html.7d90e547.js"><link rel="prefetch" href="/assets/æ´—è„‘å¿ƒç†å­¦.html.d0f71f8a.js"><link rel="prefetch" href="/assets/è¿›åŒ–å¿ƒç†å­¦.html.6eaa9043.js"><link rel="prefetch" href="/assets/CODE.html.3423e072.js"><link rel="prefetch" href="/assets/index.html.3dbea059.js"><link rel="prefetch" href="/assets/æˆä¸ºæŠ€æœ¯é¢†å¯¼è€….html.416740ca.js"><link rel="prefetch" href="/assets/é¸Ÿå“¥çš„Linuxç§æˆ¿èœ.html.313b2073.js"><link rel="prefetch" href="/assets/é¸Ÿå“¥çš„Linuxç§æˆ¿èœæœåŠ¡å™¨æ¶è®¾ç¯‡.html.8a6ebb9f.js"><link rel="prefetch" href="/assets/é»‘å®¢ä¸ç”»å®¶.html.c51996a7.js"><link rel="prefetch" href="/assets/index.html.79f09628.js"><link rel="prefetch" href="/assets/ä¸­å›½äººçš„æ€§æ ¼.html.7351181c.js"><link rel="prefetch" href="/assets/ä¹Œåˆä¹‹ä¼—.html.6ae759af.js"><link rel="prefetch" href="/assets/å¨±ä¹è‡³æ­».html.9ea40086.js"><link rel="prefetch" href="/assets/index.html.4096debd.js"><link rel="prefetch" href="/assets/æ¸…é†’æ€è€ƒçš„è‰ºæœ¯.html.13bdcbad.js"><link rel="prefetch" href="/assets/index.html.710cf954.js"><link rel="prefetch" href="/assets/åšå¼ˆè®ºä¸ç»æµè¡Œä¸º.html.dc5050ce.js"><link rel="prefetch" href="/assets/å°±ä¸š_åˆ©æ¯å’Œè´§å¸é€šè®º.html.d5958861.js"><link rel="prefetch" href="/assets/èªæ˜çš„æŠ•èµ„è€….html.af08bc8d.js"><link rel="prefetch" href="/assets/è´§å¸é‡‘èå­¦.html.6ad25057.js"><link rel="prefetch" href="/assets/éç†æ€§ç¹è£.html.3f3d5cb2.js"><link rel="prefetch" href="/assets/aioetcd3.html.9a68abb5.js"><link rel="prefetch" href="/assets/etcd.html.7f601ff8.js"><link rel="prefetch" href="/assets/è¿›é˜¶.html.74a14dae.js"><link rel="prefetch" href="/assets/MySQL.html.e388cdc4.js"><link rel="prefetch" href="/assets/Mysqlè°ƒä¼˜.html.97e4f341.js"><link rel="prefetch" href="/assets/Mysqlè¿›é˜¶.html.27f9908e.js"><link rel="prefetch" href="/assets/Mysqlé«˜é˜¶.html.383f9ec6.js"><link rel="prefetch" href="/assets/Navicat.html.b57adb1b.js"><link rel="prefetch" href="/assets/SQLAlchemy.html.05704fc2.js"><link rel="prefetch" href="/assets/PostgreSQL.html.1418cb8a.js"><link rel="prefetch" href="/assets/redis.html.60d74794.js"><link rel="prefetch" href="/assets/æ€§èƒ½åˆ†æ.html.0fc09971.js"><link rel="prefetch" href="/assets/goè¯­è¨€é€Ÿè®°.html.b114508d.js"><link rel="prefetch" href="/assets/dockerå®¹å™¨.html.789e680f.js"><link rel="prefetch" href="/assets/ä½¿ç”¨åŸºç¡€.html.56406bb9.js"><link rel="prefetch" href="/assets/å‘½ä»¤.html.cc326fd5.js"><link rel="prefetch" href="/assets/ç½‘ç»œ.html.20accbae.js"><link rel="prefetch" href="/assets/Git.html.efd2291a.js"><link rel="prefetch" href="/assets/GItæäº¤è§„åˆ™.html.b61995d7.js"><link rel="prefetch" href="/assets/å®‰è£…GitLab.html.3cc32023.js"><link rel="prefetch" href="/assets/Helmå®‰è£…ä½¿ç”¨.html.8976ad38.js"><link rel="prefetch" href="/assets/k8så­˜å‚¨.html.2927d1dd.js"><link rel="prefetch" href="/assets/k8så®‰è£….html.f345126e.js"><link rel="prefetch" href="/assets/k8så·¥ä½œè´Ÿè½½.html.08b09446.js"><link rel="prefetch" href="/assets/k8sæœåŠ¡.html.dd437d28.js"><link rel="prefetch" href="/assets/k8sèµ„æºPod.html.871c19d7.js"><link rel="prefetch" href="/assets/k8sè¿›é˜¶.html.9f8285c9.js"><link rel="prefetch" href="/assets/NginxåŸºç¡€.html.882aead1.js"><link rel="prefetch" href="/assets/åº”ç”¨éƒ¨ç½².html.d3cba08a.js"><link rel="prefetch" href="/assets/FiddleræŠ“åŒ…å·¥å…·.html.e893b0df.js"><link rel="prefetch" href="/assets/Postman.html.bfbfb5ea.js"><link rel="prefetch" href="/assets/rdesktop.html.920ddeb3.js"><link rel="prefetch" href="/assets/screen.html.0b24cedb.js"><link rel="prefetch" href="/assets/tmux.html.02a7fcb6.js"><link rel="prefetch" href="/assets/ç½‘ç»œä»£ç†.html.ec01359e.js"><link rel="prefetch" href="/assets/åŸºæœ¬ä½¿ç”¨.html.56eaa982.js"><link rel="prefetch" href="/assets/å®‰è£….html.91c46d9a.js"><link rel="prefetch" href="/assets/APScheduler.html.263f1926.js"><link rel="prefetch" href="/assets/Celery.html.1653d80c.js"><link rel="prefetch" href="/assets/Celeryä½¿ç”¨åŸºç¡€.html.01c5e6c9.js"><link rel="prefetch" href="/assets/å¼‚æ­¥ä»»åŠ¡æ¦‚è¿°.html.6304de3f.js"><link rel="prefetch" href="/assets/kafka.html.f0317fdf.js"><link rel="prefetch" href="/assets/RabbitMQ.html.4cc2d825.js"><link rel="prefetch" href="/assets/gRPC.html.7d04590d.js"><link rel="prefetch" href="/assets/RPC.html.5e382878.js"><link rel="prefetch" href="/assets/asyncio Recipes.html.8e28c2d4.js"><link rel="prefetch" href="/assets/asyncioåŸºç¡€.html.967262da.js"><link rel="prefetch" href="/assets/asyncioè¿›é˜¶.html.f9a79d6d.js"><link rel="prefetch" href="/assets/äº‹ä»¶å¾ªç¯.html.ccc0dca2.js"><link rel="prefetch" href="/assets/åº•å±‚å®ç°.html.948a7f68.js"><link rel="prefetch" href="/assets/pip.html.786da363.js"><link rel="prefetch" href="/assets/å­—ç¬¦ç¼–ç .html.62c5c8ab.js"><link rel="prefetch" href="/assets/æ•°æ®ç±»å‹.html.8611832a.js"><link rel="prefetch" href="/assets/æ–‡ä»¶åŸºç¡€.html.8b023d93.js"><link rel="prefetch" href="/assets/æµç¨‹æ§åˆ¶.html.d185267c.js"><link rel="prefetch" href="/assets/ç¯å¢ƒå®‰è£….html.0a3744ab.js"><link rel="prefetch" href="/assets/åç¨‹.html.cf313a1a.js"><link rel="prefetch" href="/assets/åŒæ­¥é˜Ÿåˆ—.html.8a638e16.js"><link rel="prefetch" href="/assets/å¤šçº¿ç¨‹ç¼–ç¨‹.html.b6a1d1fe.js"><link rel="prefetch" href="/assets/å¤šè¿›ç¨‹ç¼–ç¨‹.html.021b55e7.js"><link rel="prefetch" href="/assets/çº¿ç¨‹.html.6b48a511.js"><link rel="prefetch" href="/assets/çº¿ç¨‹è¿›ç¨‹è¾…åŠ©æœºåˆ¶.html.bfd51d9e.js"><link rel="prefetch" href="/assets/è¿›ç¨‹.html.cb18e43d.js"><link rel="prefetch" href="/assets/æ ‡å‡†åº“é“¾æ¥.html.2c6073be.js"><link rel="prefetch" href="/assets/Cpythonå¯¹è±¡.html.e63dd9d4.js"><link rel="prefetch" href="/assets/åƒåœ¾å›æ”¶.html.c0f20ca3.js"><link rel="prefetch" href="/assets/åºåˆ—è¿›é˜¶.html.63d817c7.js"><link rel="prefetch" href="/assets/æ˜ å°„è¿›é˜¶.html.2b995404.js"><link rel="prefetch" href="/assets/è®¾è®¡æ¨¡å¼.html.b1773683.js"><link rel="prefetch" href="/assets/Socket.html.f499860e.js"><link rel="prefetch" href="/assets/Websocket.html.de6d9d7d.js"><link rel="prefetch" href="/assets/äº‹ä»¶æ¨¡å‹.html.e997a373.js"><link rel="prefetch" href="/assets/å›è°ƒ.html.fa7100b8.js"><link rel="prefetch" href="/assets/å‡½æ•°.html.98eca835.js"><link rel="prefetch" href="/assets/å˜é‡æœºåˆ¶.html.a5c01f07.js"><link rel="prefetch" href="/assets/æ¨¡å—å’ŒåŒ….html.f7126264.js"><link rel="prefetch" href="/assets/ç”Ÿæˆå™¨.html.c400637f.js"><link rel="prefetch" href="/assets/è£…é¥°å™¨.html.c196db44.js"><link rel="prefetch" href="/assets/è¿­ä»£å™¨.html.874956ce.js"><link rel="prefetch" href="/assets/é”™è¯¯å’Œå¼‚å¸¸.html.6ca25e84.js"><link rel="prefetch" href="/assets/é¢å‘å¯¹è±¡.html.cf7277ee.js"><link rel="prefetch" href="/assets/bind.html.4d359edc.js"><link rel="prefetch" href="/assets/DNSæœåŠ¡.html.eed32b92.js"><link rel="prefetch" href="/assets/linux æ–‡ä»¶é”.html.e18e8d20.js"><link rel="prefetch" href="/assets/è„šæœ¬è¯´æ˜.html.8f656de9.js"><link rel="prefetch" href="/assets/ADåŸŸ.html.6a3a0c03.js"><link rel="prefetch" href="/assets/LDAP.html.2cbdae90.js"><link rel="prefetch" href="/assets/Pythonå¯¹æ¥ADåŸŸ.html.9b3ffad1.js"><link rel="prefetch" href="/assets/NFSæœåŠ¡.html.2b0a0b51.js"><link rel="prefetch" href="/assets/NTPæœåŠ¡.html.d290ddf8.js"><link rel="prefetch" href="/assets/SambaæœåŠ¡.html.6367993d.js"><link rel="prefetch" href="/assets/SNMPæœåŠ¡.html.40949222.js"><link rel="prefetch" href="/assets/isoæ„å»ºä»¥åŠå‘å¸ƒ.html.b0f63e21.js"><link rel="prefetch" href="/assets/ufscliå·¥å…·.html.5bf16b6d.js"><link rel="prefetch" href="/assets/ufsæ ¸å¿ƒç»„ä»¶.html.b6418776.js"><link rel="prefetch" href="/assets/ufsç®¡ç†å¹³å°.html.cf0eca0c.js"><link rel="prefetch" href="/assets/uusè™šæ‹Ÿæœºæ’é”™.html.c191ab65.js"><link rel="prefetch" href="/assets/CentOSçš„å®‰è£….html.c88ee896.js"><link rel="prefetch" href="/assets/RPMåŒ…ç®¡ç†.html.f8c286d2.js"><link rel="prefetch" href="/assets/è´¦å·ç®¡ç†ä¸ACLæƒé™.html.45629df2.js"><link rel="prefetch" href="/assets/Linuxæ˜¯ä»€ä¹ˆä¸å¦‚ä½•å­¦ä¹ .html.09afb955.js"><link rel="prefetch" href="/assets/ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº.html.d87b6c71.js"><link rel="prefetch" href="/assets/è®¡ç®—æœºæ¦‚è®º.html.7fe6cafc.js"><link rel="prefetch" href="/assets/Linuxç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿç®¡ç†.html.f2e83970.js"><link rel="prefetch" href="/assets/æ–‡ä»¶ä¸æ–‡ä»¶ç³»ç»Ÿå‹ç¼©.html.fbe9151b.js"><link rel="prefetch" href="/assets/æ–‡ä»¶æƒé™ä¸ç›®å½•é…ç½®.html.1345de0d.js"><link rel="prefetch" href="/assets/è®¤è¯†ç³»ç»ŸæœåŠ¡.html.b0a77c03.js"><link rel="prefetch" href="/assets/vim å¿«æ·é”®.html.20c05428.js"><link rel="prefetch" href="/assets/vimç¨‹åºç¼–è¾‘å™¨.html.653dc7c5.js"><link rel="prefetch" href="/assets/å¸¸å¤ä¹ .html.5f762ed9.js"><link rel="prefetch" href="/assets/CURL.html.a58ba046.js"><link rel="prefetch" href="/assets/SSLåè®®.html.a0b3818a.js"><link rel="prefetch" href="/assets/å‘½ä»¤.html.8fd307d2.js"><link rel="prefetch" href="/assets/ç½‘ç»œåŸºç¡€.html.3f0d2ad9.js"><link rel="prefetch" href="/assets/Ubuntuç³»åˆ—æ“ä½œ.html.2d3284d7.js"><link rel="prefetch" href="/assets/è®¤è¯†Linuxç³»ç»Ÿ.html.92fbea05.js"><link rel="prefetch" href="/assets/CPU.html.624ffdd7.js"><link rel="prefetch" href="/assets/ä¸»æ¿.html.eba6fab1.js"><link rel="prefetch" href="/assets/å†…å­˜.html.f4a9bfa2.js"><link rel="prefetch" href="/assets/å­˜å‚¨.html.7c0b40ac.js"><link rel="prefetch" href="/assets/æ‰©å±•å¡ä¸æ¥å£.html.20ee9dfd.js"><link rel="prefetch" href="/assets/æ˜¾å¡.html.c6223e27.js"><link rel="prefetch" href="/assets/PVE.html.8fcfa6f1.js"><link rel="prefetch" href="/assets/æ·»åŠ ç£ç›˜.html.d7dd97c0.js"><link rel="prefetch" href="/assets/ç½‘ç»œé…ç½®.html.3ea84e90.js"><link rel="prefetch" href="/assets/404.html.19a9275b.js"><link rel="prefetch" href="/assets/index.html.02b98117.js"><link rel="prefetch" href="/assets/index.html.870d4e9a.js"><link rel="prefetch" href="/assets/index.html.412710b6.js"><link rel="prefetch" href="/assets/index.html.9ee6b029.js"><link rel="prefetch" href="/assets/index.html.f3068f3a.js"><link rel="prefetch" href="/assets/index.html.b3a4f791.js"><link rel="prefetch" href="/assets/index.html.1056e0a4.js"><link rel="prefetch" href="/assets/index.html.31a36b3e.js"><link rel="prefetch" href="/assets/index.html.4e1002d7.js"><link rel="prefetch" href="/assets/index.html.01c4efbe.js"><link rel="prefetch" href="/assets/index.html.45ee99c8.js"><link rel="prefetch" href="/assets/index.html.874a5c84.js"><link rel="prefetch" href="/assets/index.html.4533878d.js"><link rel="prefetch" href="/assets/index.html.8af94d91.js"><link rel="prefetch" href="/assets/index.html.d43aa8c3.js"><link rel="prefetch" href="/assets/index.html.0b7b82ea.js"><link rel="prefetch" href="/assets/index.html.3d4d77df.js"><link rel="prefetch" href="/assets/index.html.8e4c790e.js"><link rel="prefetch" href="/assets/index.html.6bda7342.js"><link rel="prefetch" href="/assets/index.html.88e2aac2.js"><link rel="prefetch" href="/assets/index.html.6ce24497.js"><link rel="prefetch" href="/assets/index.html.f72678dd.js"><link rel="prefetch" href="/assets/index.html.5aaa2dd5.js"><link rel="prefetch" href="/assets/index.html.94320d4f.js"><link rel="prefetch" href="/assets/index.html.4e6cdf36.js"><link rel="prefetch" href="/assets/index.html.1a93620b.js"><link rel="prefetch" href="/assets/index.html.3d48d8f9.js"><link rel="prefetch" href="/assets/index.html.d4f7c8f9.js"><link rel="prefetch" href="/assets/index.html.618bf277.js"><link rel="prefetch" href="/assets/index.html.453514a6.js"><link rel="prefetch" href="/assets/index.html.5007e26a.js"><link rel="prefetch" href="/assets/index.html.537ca23d.js"><link rel="prefetch" href="/assets/index.html.a9eea0b5.js"><link rel="prefetch" href="/assets/index.html.5da75686.js"><link rel="prefetch" href="/assets/index.html.f1f3922c.js"><link rel="prefetch" href="/assets/index.html.dbdaad5d.js"><link rel="prefetch" href="/assets/index.html.0784e604.js"><link rel="prefetch" href="/assets/index.html.b9a27fd4.js"><link rel="prefetch" href="/assets/index.html.ec6d48d5.js"><link rel="prefetch" href="/assets/index.html.b8ea12bb.js"><link rel="prefetch" href="/assets/index.html.bdb914e4.js"><link rel="prefetch" href="/assets/index.html.6aef7b1b.js"><link rel="prefetch" href="/assets/index.html.44dbc329.js"><link rel="prefetch" href="/assets/index.html.06bf30d7.js"><link rel="prefetch" href="/assets/index.html.4a730a25.js"><link rel="prefetch" href="/assets/index.html.c7b03af4.js"><link rel="prefetch" href="/assets/index.html.f78500e1.js"><link rel="prefetch" href="/assets/index.html.602b6388.js"><link rel="prefetch" href="/assets/index.html.92daadff.js"><link rel="prefetch" href="/assets/index.html.c8575e67.js"><link rel="prefetch" href="/assets/index.html.6920f848.js"><link rel="prefetch" href="/assets/index.html.139eb784.js"><link rel="prefetch" href="/assets/index.html.eaecfcd4.js"><link rel="prefetch" href="/assets/index.html.ca07c027.js"><link rel="prefetch" href="/assets/index.html.58081c32.js"><link rel="prefetch" href="/assets/index.html.767c76a9.js"><link rel="prefetch" href="/assets/index.html.c33c70c6.js"><link rel="prefetch" href="/assets/index.html.e08cba86.js"><link rel="prefetch" href="/assets/index.html.d659acd3.js"><link rel="prefetch" href="/assets/index.html.57f0932f.js"><link rel="prefetch" href="/assets/index.html.697fb868.js"><link rel="prefetch" href="/assets/index.html.1de089f2.js"><link rel="prefetch" href="/assets/index.html.1af47f8e.js"><link rel="prefetch" href="/assets/index.html.4b6c4718.js"><link rel="prefetch" href="/assets/index.html.c91236b5.js"><link rel="prefetch" href="/assets/index.html.37209720.js"><link rel="prefetch" href="/assets/index.html.8cd6c4d2.js"><link rel="prefetch" href="/assets/index.html.bb6aded2.js"><link rel="prefetch" href="/assets/index.html.a6c3c8ce.js"><link rel="prefetch" href="/assets/index.html.1da6b71a.js"><link rel="prefetch" href="/assets/index.html.065bcbcd.js"><link rel="prefetch" href="/assets/index.html.5e8e94aa.js"><link rel="prefetch" href="/assets/index.html.6816f1eb.js"><link rel="prefetch" href="/assets/index.html.38c68190.js"><link rel="prefetch" href="/assets/home.html.b4192b5a.js"><link rel="prefetch" href="/assets/intro.html.9035b4f3.js"><link rel="prefetch" href="/assets/index.html.24a8c4cc.js"><link rel="prefetch" href="/assets/slides.html.671b7096.js"><link rel="prefetch" href="/assets/index.html.2a42af18.js"><link rel="prefetch" href="/assets/disable.html.fcc48b74.js"><link rel="prefetch" href="/assets/encrypt.html.1d520ba4.js"><link rel="prefetch" href="/assets/markdown.html.99f93cc8.js"><link rel="prefetch" href="/assets/page.html.41ee12c0.js"><link rel="prefetch" href="/assets/index.html.02db338e.js"><link rel="prefetch" href="/assets/PSæ“ä½œåŸºç¡€.html.56681b62.js"><link rel="prefetch" href="/assets/index.html.3295e118.js"><link rel="prefetch" href="/assets/SAIæ“ä½œåŸºç¡€.html.a21e343b.js"><link rel="prefetch" href="/assets/index.html.c5bf50f4.js"><link rel="prefetch" href="/assets/index.html.5e18c515.js"><link rel="prefetch" href="/assets/asyncio_recipes.html.dca29b9e.js"><link rel="prefetch" href="/assets/devops_in_python.html.ad8dcca0.js"><link rel="prefetch" href="/assets/fluent_python.html.4f364cb9.js"><link rel="prefetch" href="/assets/index.html.1bab8703.js"><link rel="prefetch" href="/assets/python_cookbook.html.2f2a2ca1.js"><link rel="prefetch" href="/assets/pythonæºç å‰–æ.html.f933e138.js"><link rel="prefetch" href="/assets/use_asyncio.html.2b2702de.js"><link rel="prefetch" href="/assets/index.html.7559f5fc.js"><link rel="prefetch" href="/assets/äºšåŠ¨æœºä¸äººæ ¼.html.e20b0e45.js"><link rel="prefetch" href="/assets/äººçš„æ½œèƒ½å’Œä»·å€¼.html.84ded0cd.js"><link rel="prefetch" href="/assets/å¥½äººæ˜¯å¦‚ä½•å˜æˆæ¶é­”çš„.html.9f66324a.js"><link rel="prefetch" href="/assets/å½±å“åŠ›.html.e27c48dd.js"><link rel="prefetch" href="/assets/æ€§å¿ƒç†å­¦.html.7d19537d.js"><link rel="prefetch" href="/assets/æ´—è„‘å¿ƒç†å­¦.html.2324afc6.js"><link rel="prefetch" href="/assets/è¿›åŒ–å¿ƒç†å­¦.html.6e995e8e.js"><link rel="prefetch" href="/assets/CODE.html.d66a3cea.js"><link rel="prefetch" href="/assets/index.html.b088385f.js"><link rel="prefetch" href="/assets/æˆä¸ºæŠ€æœ¯é¢†å¯¼è€….html.e3ac3157.js"><link rel="prefetch" href="/assets/é¸Ÿå“¥çš„Linuxç§æˆ¿èœ.html.3b8761c2.js"><link rel="prefetch" href="/assets/é¸Ÿå“¥çš„Linuxç§æˆ¿èœæœåŠ¡å™¨æ¶è®¾ç¯‡.html.8ceff8bd.js"><link rel="prefetch" href="/assets/é»‘å®¢ä¸ç”»å®¶.html.9719d6fc.js"><link rel="prefetch" href="/assets/index.html.0ac87eb1.js"><link rel="prefetch" href="/assets/ä¸­å›½äººçš„æ€§æ ¼.html.25b65f49.js"><link rel="prefetch" href="/assets/ä¹Œåˆä¹‹ä¼—.html.011e2160.js"><link rel="prefetch" href="/assets/å¨±ä¹è‡³æ­».html.6e95fc1a.js"><link rel="prefetch" href="/assets/index.html.02af64f9.js"><link rel="prefetch" href="/assets/æ¸…é†’æ€è€ƒçš„è‰ºæœ¯.html.eacad6b3.js"><link rel="prefetch" href="/assets/index.html.5ed724e2.js"><link rel="prefetch" href="/assets/åšå¼ˆè®ºä¸ç»æµè¡Œä¸º.html.702f404b.js"><link rel="prefetch" href="/assets/å°±ä¸š_åˆ©æ¯å’Œè´§å¸é€šè®º.html.971358b4.js"><link rel="prefetch" href="/assets/èªæ˜çš„æŠ•èµ„è€….html.5f907d4d.js"><link rel="prefetch" href="/assets/è´§å¸é‡‘èå­¦.html.ab667e22.js"><link rel="prefetch" href="/assets/éç†æ€§ç¹è£.html.e9adae51.js"><link rel="prefetch" href="/assets/aioetcd3.html.14958ea2.js"><link rel="prefetch" href="/assets/etcd.html.7ad491f1.js"><link rel="prefetch" href="/assets/è¿›é˜¶.html.8382e0d4.js"><link rel="prefetch" href="/assets/MySQL.html.5680d782.js"><link rel="prefetch" href="/assets/Mysqlè°ƒä¼˜.html.7e7c8d21.js"><link rel="prefetch" href="/assets/Mysqlè¿›é˜¶.html.fa51f486.js"><link rel="prefetch" href="/assets/Mysqlé«˜é˜¶.html.62381372.js"><link rel="prefetch" href="/assets/Navicat.html.397d8935.js"><link rel="prefetch" href="/assets/SQLAlchemy.html.e0dfdc6b.js"><link rel="prefetch" href="/assets/PostgreSQL.html.3d888583.js"><link rel="prefetch" href="/assets/redis.html.132d7b63.js"><link rel="prefetch" href="/assets/æ€§èƒ½åˆ†æ.html.3713de85.js"><link rel="prefetch" href="/assets/goè¯­è¨€é€Ÿè®°.html.2f408fe6.js"><link rel="prefetch" href="/assets/dockerå®¹å™¨.html.828ad9cc.js"><link rel="prefetch" href="/assets/ä½¿ç”¨åŸºç¡€.html.f67e01ef.js"><link rel="prefetch" href="/assets/å‘½ä»¤.html.55a4e5e8.js"><link rel="prefetch" href="/assets/ç½‘ç»œ.html.1ee5518f.js"><link rel="prefetch" href="/assets/Git.html.f4d5e2b5.js"><link rel="prefetch" href="/assets/GItæäº¤è§„åˆ™.html.93c6c230.js"><link rel="prefetch" href="/assets/å®‰è£…GitLab.html.ef76d35c.js"><link rel="prefetch" href="/assets/Helmå®‰è£…ä½¿ç”¨.html.2761c18b.js"><link rel="prefetch" href="/assets/k8så­˜å‚¨.html.edb32c78.js"><link rel="prefetch" href="/assets/k8så®‰è£….html.936eea3d.js"><link rel="prefetch" href="/assets/k8så·¥ä½œè´Ÿè½½.html.17099509.js"><link rel="prefetch" href="/assets/k8sæœåŠ¡.html.34d5fbf8.js"><link rel="prefetch" href="/assets/k8sèµ„æºPod.html.bd26e764.js"><link rel="prefetch" href="/assets/k8sè¿›é˜¶.html.9847915c.js"><link rel="prefetch" href="/assets/NginxåŸºç¡€.html.14aa17ee.js"><link rel="prefetch" href="/assets/åº”ç”¨éƒ¨ç½².html.573a7904.js"><link rel="prefetch" href="/assets/FiddleræŠ“åŒ…å·¥å…·.html.19181226.js"><link rel="prefetch" href="/assets/Postman.html.b4862a29.js"><link rel="prefetch" href="/assets/rdesktop.html.13ccd02f.js"><link rel="prefetch" href="/assets/screen.html.2d361a98.js"><link rel="prefetch" href="/assets/tmux.html.be9fc3b1.js"><link rel="prefetch" href="/assets/ç½‘ç»œä»£ç†.html.484ed84c.js"><link rel="prefetch" href="/assets/åŸºæœ¬ä½¿ç”¨.html.5fa0d1ec.js"><link rel="prefetch" href="/assets/å®‰è£….html.02a7a74f.js"><link rel="prefetch" href="/assets/APScheduler.html.5d76cb2f.js"><link rel="prefetch" href="/assets/Celery.html.940fc396.js"><link rel="prefetch" href="/assets/Celeryä½¿ç”¨åŸºç¡€.html.990d790a.js"><link rel="prefetch" href="/assets/å¼‚æ­¥ä»»åŠ¡æ¦‚è¿°.html.b7f50f38.js"><link rel="prefetch" href="/assets/kafka.html.9dc92c91.js"><link rel="prefetch" href="/assets/RabbitMQ.html.4e177f5d.js"><link rel="prefetch" href="/assets/gRPC.html.aa6f6f13.js"><link rel="prefetch" href="/assets/RPC.html.a6c2cac7.js"><link rel="prefetch" href="/assets/asyncio Recipes.html.7e616a09.js"><link rel="prefetch" href="/assets/asyncioåŸºç¡€.html.18928610.js"><link rel="prefetch" href="/assets/asyncioè¿›é˜¶.html.53eb9b54.js"><link rel="prefetch" href="/assets/äº‹ä»¶å¾ªç¯.html.d5c09f54.js"><link rel="prefetch" href="/assets/åº•å±‚å®ç°.html.6ecd1492.js"><link rel="prefetch" href="/assets/pip.html.6a93760f.js"><link rel="prefetch" href="/assets/å­—ç¬¦ç¼–ç .html.303dd7d2.js"><link rel="prefetch" href="/assets/æ•°æ®ç±»å‹.html.97c428d7.js"><link rel="prefetch" href="/assets/æ–‡ä»¶åŸºç¡€.html.697e0b89.js"><link rel="prefetch" href="/assets/æµç¨‹æ§åˆ¶.html.a785d69c.js"><link rel="prefetch" href="/assets/ç¯å¢ƒå®‰è£….html.e1b98763.js"><link rel="prefetch" href="/assets/åç¨‹.html.5de834f8.js"><link rel="prefetch" href="/assets/åŒæ­¥é˜Ÿåˆ—.html.891ba0ed.js"><link rel="prefetch" href="/assets/å¤šçº¿ç¨‹ç¼–ç¨‹.html.4556848f.js"><link rel="prefetch" href="/assets/å¤šè¿›ç¨‹ç¼–ç¨‹.html.8b37527e.js"><link rel="prefetch" href="/assets/çº¿ç¨‹.html.156ae1eb.js"><link rel="prefetch" href="/assets/çº¿ç¨‹è¿›ç¨‹è¾…åŠ©æœºåˆ¶.html.0426d36a.js"><link rel="prefetch" href="/assets/è¿›ç¨‹.html.e2d55f2d.js"><link rel="prefetch" href="/assets/æ ‡å‡†åº“é“¾æ¥.html.da080439.js"><link rel="prefetch" href="/assets/Cpythonå¯¹è±¡.html.4678a348.js"><link rel="prefetch" href="/assets/åƒåœ¾å›æ”¶.html.e0033702.js"><link rel="prefetch" href="/assets/åºåˆ—è¿›é˜¶.html.48c30e71.js"><link rel="prefetch" href="/assets/æ˜ å°„è¿›é˜¶.html.babe640c.js"><link rel="prefetch" href="/assets/è®¾è®¡æ¨¡å¼.html.322ece07.js"><link rel="prefetch" href="/assets/Socket.html.962358da.js"><link rel="prefetch" href="/assets/Websocket.html.6353d08e.js"><link rel="prefetch" href="/assets/äº‹ä»¶æ¨¡å‹.html.2d2c73d2.js"><link rel="prefetch" href="/assets/å›è°ƒ.html.7b7de8e0.js"><link rel="prefetch" href="/assets/å‡½æ•°.html.680eee85.js"><link rel="prefetch" href="/assets/å˜é‡æœºåˆ¶.html.3fc49464.js"><link rel="prefetch" href="/assets/æ¨¡å—å’ŒåŒ….html.a2ded5d3.js"><link rel="prefetch" href="/assets/ç”Ÿæˆå™¨.html.06bef8a7.js"><link rel="prefetch" href="/assets/è£…é¥°å™¨.html.1902366b.js"><link rel="prefetch" href="/assets/è¿­ä»£å™¨.html.ad2c66cb.js"><link rel="prefetch" href="/assets/é”™è¯¯å’Œå¼‚å¸¸.html.4b014b41.js"><link rel="prefetch" href="/assets/é¢å‘å¯¹è±¡.html.9d0d5630.js"><link rel="prefetch" href="/assets/bind.html.7fc2856d.js"><link rel="prefetch" href="/assets/DNSæœåŠ¡.html.f6d36c9b.js"><link rel="prefetch" href="/assets/linux æ–‡ä»¶é”.html.6365fd98.js"><link rel="prefetch" href="/assets/è„šæœ¬è¯´æ˜.html.a7924c0d.js"><link rel="prefetch" href="/assets/ADåŸŸ.html.42bf0987.js"><link rel="prefetch" href="/assets/LDAP.html.ceaee770.js"><link rel="prefetch" href="/assets/Pythonå¯¹æ¥ADåŸŸ.html.91be610d.js"><link rel="prefetch" href="/assets/NFSæœåŠ¡.html.cd21d51a.js"><link rel="prefetch" href="/assets/NTPæœåŠ¡.html.1c4a563e.js"><link rel="prefetch" href="/assets/SambaæœåŠ¡.html.f70fc5e4.js"><link rel="prefetch" href="/assets/SNMPæœåŠ¡.html.f9edef43.js"><link rel="prefetch" href="/assets/isoæ„å»ºä»¥åŠå‘å¸ƒ.html.ecd615b5.js"><link rel="prefetch" href="/assets/ufscliå·¥å…·.html.c935dcfe.js"><link rel="prefetch" href="/assets/ufsæ ¸å¿ƒç»„ä»¶.html.283c0535.js"><link rel="prefetch" href="/assets/ufsç®¡ç†å¹³å°.html.dfb80d26.js"><link rel="prefetch" href="/assets/uusè™šæ‹Ÿæœºæ’é”™.html.e1c1e6d9.js"><link rel="prefetch" href="/assets/CentOSçš„å®‰è£….html.f77b0dd8.js"><link rel="prefetch" href="/assets/RPMåŒ…ç®¡ç†.html.6f586bc4.js"><link rel="prefetch" href="/assets/è´¦å·ç®¡ç†ä¸ACLæƒé™.html.eec6f2d9.js"><link rel="prefetch" href="/assets/Linuxæ˜¯ä»€ä¹ˆä¸å¦‚ä½•å­¦ä¹ .html.8a31c3ab.js"><link rel="prefetch" href="/assets/ä¸»æœºè§„åˆ’ä¸ç£ç›˜åˆ†åŒº.html.8c9d5214.js"><link rel="prefetch" href="/assets/è®¡ç®—æœºæ¦‚è®º.html.d927058b.js"><link rel="prefetch" href="/assets/Linuxç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿç®¡ç†.html.c47a9f3d.js"><link rel="prefetch" href="/assets/æ–‡ä»¶ä¸æ–‡ä»¶ç³»ç»Ÿå‹ç¼©.html.d7e5d70b.js"><link rel="prefetch" href="/assets/æ–‡ä»¶æƒé™ä¸ç›®å½•é…ç½®.html.f0f11db7.js"><link rel="prefetch" href="/assets/è®¤è¯†ç³»ç»ŸæœåŠ¡.html.bfe9f122.js"><link rel="prefetch" href="/assets/vim å¿«æ·é”®.html.ce006883.js"><link rel="prefetch" href="/assets/vimç¨‹åºç¼–è¾‘å™¨.html.08a7dd3a.js"><link rel="prefetch" href="/assets/å¸¸å¤ä¹ .html.269dfc48.js"><link rel="prefetch" href="/assets/CURL.html.c3bb5e68.js"><link rel="prefetch" href="/assets/SSLåè®®.html.3b3623a9.js"><link rel="prefetch" href="/assets/å‘½ä»¤.html.c2bf5553.js"><link rel="prefetch" href="/assets/ç½‘ç»œåŸºç¡€.html.b624e892.js"><link rel="prefetch" href="/assets/Ubuntuç³»åˆ—æ“ä½œ.html.7d0621df.js"><link rel="prefetch" href="/assets/è®¤è¯†Linuxç³»ç»Ÿ.html.0cabe0a2.js"><link rel="prefetch" href="/assets/CPU.html.5b787ee1.js"><link rel="prefetch" href="/assets/ä¸»æ¿.html.f6b73159.js"><link rel="prefetch" href="/assets/å†…å­˜.html.67959b0a.js"><link rel="prefetch" href="/assets/å­˜å‚¨.html.3908adf2.js"><link rel="prefetch" href="/assets/æ‰©å±•å¡ä¸æ¥å£.html.7bd167e9.js"><link rel="prefetch" href="/assets/æ˜¾å¡.html.c4d07316.js"><link rel="prefetch" href="/assets/PVE.html.42c0d6dd.js"><link rel="prefetch" href="/assets/æ·»åŠ ç£ç›˜.html.848754a1.js"><link rel="prefetch" href="/assets/ç½‘ç»œé…ç½®.html.ce2b9086.js"><link rel="prefetch" href="/assets/404.html.9293c64c.js"><link rel="prefetch" href="/assets/index.html.0f88bbec.js"><link rel="prefetch" href="/assets/index.html.bdd995e8.js"><link rel="prefetch" href="/assets/index.html.8a7f3210.js"><link rel="prefetch" href="/assets/index.html.8041e4b6.js"><link rel="prefetch" href="/assets/index.html.a7221379.js"><link rel="prefetch" href="/assets/index.html.b1ebfdeb.js"><link rel="prefetch" href="/assets/index.html.60790f00.js"><link rel="prefetch" href="/assets/index.html.ad4e6c99.js"><link rel="prefetch" href="/assets/index.html.6a7dd589.js"><link rel="prefetch" href="/assets/index.html.059d0b0f.js"><link rel="prefetch" href="/assets/index.html.cdf941bd.js"><link rel="prefetch" href="/assets/index.html.5cccbd7f.js"><link rel="prefetch" href="/assets/index.html.5c1fae12.js"><link rel="prefetch" href="/assets/index.html.56159a72.js"><link rel="prefetch" href="/assets/index.html.62a82f34.js"><link rel="prefetch" href="/assets/index.html.199c11aa.js"><link rel="prefetch" href="/assets/index.html.a2ea870e.js"><link rel="prefetch" href="/assets/index.html.53fec902.js"><link rel="prefetch" href="/assets/index.html.fb7ceb90.js"><link rel="prefetch" href="/assets/index.html.a4eb3604.js"><link rel="prefetch" href="/assets/index.html.3c99d51a.js"><link rel="prefetch" href="/assets/index.html.96634fd5.js"><link rel="prefetch" href="/assets/index.html.ae6b09a6.js"><link rel="prefetch" href="/assets/index.html.95627705.js"><link rel="prefetch" href="/assets/index.html.a3d59a1d.js"><link rel="prefetch" href="/assets/index.html.337ddf7c.js"><link rel="prefetch" href="/assets/index.html.d608f9d5.js"><link rel="prefetch" href="/assets/index.html.a1a6449a.js"><link rel="prefetch" href="/assets/index.html.3a8937a8.js"><link rel="prefetch" href="/assets/index.html.73c3762e.js"><link rel="prefetch" href="/assets/index.html.a9cb4ebd.js"><link rel="prefetch" href="/assets/index.html.f1f5075b.js"><link rel="prefetch" href="/assets/index.html.316f18b9.js"><link rel="prefetch" href="/assets/index.html.d17b34e0.js"><link rel="prefetch" href="/assets/index.html.8ccc0dd9.js"><link rel="prefetch" href="/assets/index.html.b35c01cc.js"><link rel="prefetch" href="/assets/index.html.617fba37.js"><link rel="prefetch" href="/assets/index.html.c688ef84.js"><link rel="prefetch" href="/assets/index.html.3834d587.js"><link rel="prefetch" href="/assets/index.html.aebefd16.js"><link rel="prefetch" href="/assets/index.html.8e7ae4b5.js"><link rel="prefetch" href="/assets/index.html.1fee6b76.js"><link rel="prefetch" href="/assets/index.html.32444cc8.js"><link rel="prefetch" href="/assets/index.html.359d0584.js"><link rel="prefetch" href="/assets/index.html.8ff238c6.js"><link rel="prefetch" href="/assets/index.html.3bb6f097.js"><link rel="prefetch" href="/assets/index.html.528e8bb1.js"><link rel="prefetch" href="/assets/index.html.662d656b.js"><link rel="prefetch" href="/assets/index.html.73155071.js"><link rel="prefetch" href="/assets/index.html.8e63868d.js"><link rel="prefetch" href="/assets/index.html.3516ac2f.js"><link rel="prefetch" href="/assets/index.html.bcf74b0c.js"><link rel="prefetch" href="/assets/index.html.6e6873d9.js"><link rel="prefetch" href="/assets/index.html.64594441.js"><link rel="prefetch" href="/assets/index.html.6bc0efa3.js"><link rel="prefetch" href="/assets/index.html.1025bd05.js"><link rel="prefetch" href="/assets/index.html.ff22e7c2.js"><link rel="prefetch" href="/assets/index.html.80368b21.js"><link rel="prefetch" href="/assets/index.html.0488e24a.js"><link rel="prefetch" href="/assets/index.html.45625deb.js"><link rel="prefetch" href="/assets/index.html.3b134d9a.js"><link rel="prefetch" href="/assets/index.html.cfae18af.js"><link rel="prefetch" href="/assets/index.html.8bd9dd2d.js"><link rel="prefetch" href="/assets/index.html.669df99c.js"><link rel="prefetch" href="/assets/index.html.b5755170.js"><link rel="prefetch" href="/assets/index.html.f1e08efe.js"><link rel="prefetch" href="/assets/index.html.d94882d1.js"><link rel="prefetch" href="/assets/index.html.605e16fb.js"><link rel="prefetch" href="/assets/index.html.543613a4.js"><link rel="prefetch" href="/assets/index.html.762a147a.js"><link rel="prefetch" href="/assets/index.html.60cd4479.js"><link rel="prefetch" href="/assets/index.html.974fcefa.js"><link rel="prefetch" href="/assets/index.html.0ae47731.js"><link rel="prefetch" href="/assets/index.html.96fb4b05.js"><link rel="prefetch" href="/assets/auto.56c9cb2e.js"><link rel="prefetch" href="/assets/index.d2b3e8c7.js"><link rel="prefetch" href="/assets/flowchart.parse.1479ec3f.js"><link rel="prefetch" href="/assets/mermaid.core.7d8186ed.js"><link rel="prefetch" href="/assets/highlight.esm.1d809baf.js"><link rel="prefetch" href="/assets/markdown.esm.36cfeb92.js"><link rel="prefetch" href="/assets/math.esm.0abc2843.js"><link rel="prefetch" href="/assets/notes.esm.55c982c5.js"><link rel="prefetch" href="/assets/reveal.esm.e6b6f4fd.js"><link rel="prefetch" href="/assets/search.esm.678cee5b.js"><link rel="prefetch" href="/assets/zoom.esm.1d3cee89.js"><link rel="prefetch" href="/assets/VuePlayground.90f311c4.js"><link rel="prefetch" href="/assets/photoswipe.esm.09e03fed.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/avatar.jpg" alt="äº”åå²š â–ª å¯„"><!----><span class="site-name hide-in-pad">äº”åå²š â–ª å¯„</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home"></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Python"><span class="title"><span class="icon iconfont icon-python"></span>Python</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>è¯­è¨€</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/python/%E8%AF%AD%E8%A8%80/%E5%9F%BA%E7%A1%80/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85.html" class="nav-link" aria-label="åŸºç¡€"><!---->åŸºç¡€<!----></a></li><li class="dropdown-subitem"><a href="/python/%E8%AF%AD%E8%A8%80/%E8%BF%9B%E9%98%B6/%E5%8F%98%E9%87%8F%E6%9C%BA%E5%88%B6.html" class="nav-link" aria-label="è¿›é˜¶"><!---->è¿›é˜¶<!----></a></li><li class="dropdown-subitem"><a href="/python/%E8%AF%AD%E8%A8%80/%E6%B7%B1%E5%85%A5/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html" class="nav-link" aria-label="æ·±å…¥"><!---->æ·±å…¥<!----></a></li><li class="dropdown-subitem"><a href="/python/%E8%AF%AD%E8%A8%80/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/Socket.html" class="nav-link" aria-label="ç½‘ç»œç¼–ç¨‹"><!---->ç½‘ç»œç¼–ç¨‹<!----></a></li><li class="dropdown-subitem"><a href="/python/%E8%AF%AD%E8%A8%80/%E5%A4%9A%E4%BB%BB%E5%8A%A1%E7%BC%96%E7%A8%8B/%E8%BF%9B%E7%A8%8B.html" class="nav-link" aria-label="å¤šä»»åŠ¡ç¼–ç¨‹"><!---->å¤šä»»åŠ¡ç¼–ç¨‹<!----></a></li><li class="dropdown-subitem"><a href="/python/%E8%AF%AD%E8%A8%80/asyncio/asyncio%E5%9F%BA%E7%A1%80.html" class="nav-link" aria-label="asyncio"><!---->asyncio<!----></a></li><li class="dropdown-subitem"><a href="/python/%E8%AF%AD%E8%A8%80/%E5%BA%93/%E6%A0%87%E5%87%86%E5%BA%93%E9%93%BE%E6%8E%A5.html" class="nav-link" aria-label="åº“"><!---->åº“<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ç”Ÿæ€</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/python/%E7%94%9F%E6%80%81/%E8%BF%9C%E7%A8%8B%E8%B0%83%E7%94%A8/gRPC.html" class="nav-link" aria-label="è¿œç¨‹è°ƒç”¨"><span class="icon iconfont icon-rpc"></span>è¿œç¨‹è°ƒç”¨<!----></a></li><li class="dropdown-subitem"><a href="/python/%E7%94%9F%E6%80%81/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/kafka.html" class="nav-link" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><span class="icon iconfont icon-kafka"></span>æ¶ˆæ¯é˜Ÿåˆ—<!----></a></li><li class="dropdown-subitem"><a href="/python/%E7%94%9F%E6%80%81/%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1/Celery.html" class="nav-link" aria-label="å¼‚æ­¥ä»»åŠ¡"><span class="icon iconfont icon-tasks"></span>å¼‚æ­¥ä»»åŠ¡<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="icon iconfont icon-database"></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/database/etcd/etcd.html" class="nav-link" aria-label="etcd"><span class="icon iconfont icon-etcd"></span>etcd<!----></a></li><li class="dropdown-item"><a href="/database/MySQL/MySQL.html" class="nav-link" aria-label="MySQL"><span class="icon iconfont icon-mysql"></span>MySQL<!----></a></li><li class="dropdown-item"><a href="/database/Redis/redis.html" class="nav-link" aria-label="Redis"><span class="icon iconfont icon-redis"></span>Redis<!----></a></li><li class="dropdown-item"><a href="/database/PostgreSQL/PostgreSQL.html" class="nav-link" aria-label="PostgreSQL"><span class="icon iconfont icon-postgresql"></span>PostgreSQL<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ“ä½œç³»ç»Ÿ"><span class="title"><span class="icon iconfont icon-os"></span>æ“ä½œç³»ç»Ÿ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/unix/Linux/Linux%E5%9F%BA%E7%A1%80%E6%8C%87%E5%BC%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%A6%82%E8%AE%BA.html" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-linux"></span>Linux<!----></a></li><li class="dropdown-item"><a href="/unix/CentOS/%E5%AE%89%E8%A3%85/CentOS%E7%9A%84%E5%AE%89%E8%A3%85.html" class="nav-link" aria-label="CentOS"><span class="icon iconfont icon-centos"></span>CentOS<!----></a></li><li class="dropdown-item"><a href="/unix/Ubuntu/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Ubuntu%E7%B3%BB%E5%88%97%E6%93%8D%E4%BD%9C.html" class="nav-link" aria-label="Ubuntu"><span class="icon iconfont icon-ubuntu"></span>Ubuntu<!----></a></li><li class="dropdown-item"><a href="/unix/%E8%99%9A%E6%8B%9F%E6%9C%BA/PVE/PVE.html" class="nav-link" aria-label="è™šæ‹Ÿæœº"><span class="icon iconfont icon-pve"></span>è™šæ‹Ÿæœº<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è¿ç»´å·¥å…·"><span class="title"><span class="icon iconfont icon-devops"></span>è¿ç»´å·¥å…·</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/tool/Git/Git.html" class="nav-link" aria-label="Git"><span class="icon iconfont icon-git"></span>Git<!----></a></li><li class="dropdown-item"><a href="/tool/Nginx/Nginx%E5%9F%BA%E7%A1%80.html" class="nav-link" aria-label="Nginx"><span class="icon iconfont icon-nginx"></span>Nginx<!----></a></li><li class="dropdown-item"><a href="/tool/Docker/docker%E5%AE%B9%E5%99%A8.html" class="nav-link" aria-label="Docker"><span class="icon iconfont icon-docker"></span>Docker<!----></a></li><li class="dropdown-item"><a href="/tool/Kubernetes/k8s%E8%B5%84%E6%BA%90Pod.html" class="nav-link" aria-label="Kubernetes"><span class="icon iconfont icon-kubernetes"></span>Kubernetes<!----></a></li><li class="dropdown-item"><a href="/tool/Prometheus/%E5%AE%89%E8%A3%85.html" class="nav-link" aria-label="Prometheus"><span class="icon iconfont icon-prometheus"></span>Prometheus<!----></a></li><li class="dropdown-item"><a href="/tool/Other/%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86.html" class="nav-link" aria-label="å·¥å…·"><span class="icon iconfont icon-other"></span>å·¥å…·<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¼«æ¼«å…¨å¹²å·çš„è‹¦"><span class="title"><!---->æ¼«æ¼«å…¨å¹²å·çš„è‹¦</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="https://draveness.me/golang/" rel="noopener noreferrer" target="_blank" aria-label="GO" class="nav-link"><span class="icon iconfont icon-go"></span>GO<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://pegasuswang.github.io/LetsGo/basics/01_go_basic_types/basic_types/" rel="noopener noreferrer" target="_blank" aria-label="GOå¤‡å¿˜" class="nav-link"><span class="icon iconfont icon-go"></span>GOå¤‡å¿˜<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://notes.fe-mm.com/interview/base/types.html" rel="noopener noreferrer" target="_blank" aria-label="å‰ç«¯å†…å·ä¸å½’è·¯" class="nav-link"><span class="icon iconfont icon-javascript"></span>å‰ç«¯å†…å·ä¸å½’è·¯<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/Igarashi-G" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading clickable"><span class="icon iconfont icon-python"></span><a href="/python/" class="title">python</a><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-guide"></span><span class="title">è¯­è¨€</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->å¼‚æ­¥ç¼–ç¨‹å²å›æº¯</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´10æœˆ8æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://github.com/Igarashi-G" target="_blank" rel="noopener noreferrer">äº”åå²š</a></span><span property="author" content="äº”åå²š"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´10æœˆ8æ—¥</span><meta property="datePublished" content="2022-10-08T01:58:06.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´10æœˆ8æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 19 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT19M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#ä¸€ã€ç¨‹åºæ‰§è¡ŒåŸºç¡€æ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level2">ä¸€ã€ç¨‹åºæ‰§è¡ŒåŸºç¡€æ¦‚å¿µï¼š</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_1-1-é˜»å¡" class="router-link-active router-link-exact-active toc-link level3">1.1 é˜»å¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_1-2-éé˜»å¡" class="router-link-active router-link-exact-active toc-link level3">1.2 éé˜»å¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_1-3-åŒæ­¥" class="router-link-active router-link-exact-active toc-link level3">1.3 åŒæ­¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_1-4-å¼‚æ­¥" class="router-link-active router-link-exact-active toc-link level3">1.4 å¼‚æ­¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_1-5-å¹¶å‘" class="router-link-active router-link-exact-active toc-link level3">1.5 å¹¶å‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_1-6-å¹¶è¡Œ" class="router-link-active router-link-exact-active toc-link level3">1.6 å¹¶è¡Œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_1-7-æ¦‚å¿µæ€»ç»“" class="router-link-active router-link-exact-active toc-link level3">1.7 æ¦‚å¿µæ€»ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_1-8-å¼‚æ­¥ç¼–ç¨‹" class="router-link-active router-link-exact-active toc-link level3">1.8 å¼‚æ­¥ç¼–ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_1-9-å¼‚æ­¥ä¹‹nan" class="router-link-active router-link-exact-active toc-link level3">1.9 å¼‚æ­¥ä¹‹nÃ¡n</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_2-è‹¦å¿ƒå¼‚æ­¥ä¸ºå“ªèˆ¬" class="router-link-active router-link-exact-active toc-link level2">2 è‹¦å¿ƒå¼‚æ­¥ä¸ºå“ªèˆ¬</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_2-1-cpu-çš„æ—¶é—´è§‚" class="router-link-active router-link-exact-active toc-link level3">2.1 CPU çš„æ—¶é—´è§‚</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_2-2-é¢ä¸´çš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">2.2 é¢ä¸´çš„é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_2-3-è§£å†³æ–¹æ¡ˆ" class="router-link-active router-link-exact-active toc-link level3">2.3 è§£å†³æ–¹æ¡ˆ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_3-å¼‚æ­¥-i-o-è¿›åŒ–ä¹‹è·¯" class="router-link-active router-link-exact-active toc-link level2">3 å¼‚æ­¥ I/O è¿›åŒ–ä¹‹è·¯</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_3-1-åŒæ­¥é˜»å¡æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">3.1 åŒæ­¥é˜»å¡æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_3-2-æ”¹è¿›æ–¹å¼-å¤šè¿›ç¨‹" class="router-link-active router-link-exact-active toc-link level3">3.2 æ”¹è¿›æ–¹å¼ï¼šå¤šè¿›ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_3-3-ç»§ç»­æ”¹è¿›-å¤šçº¿ç¨‹" class="router-link-active router-link-exact-active toc-link level3">3.3 ç»§ç»­æ”¹è¿›ï¼šå¤šçº¿ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_3-4-éé˜»å¡æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">3.4 éé˜»å¡æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/python/%E8%AF%AD%E8%A8%80/asyncio/%E5%BC%82%E6%AD%A5%E5%9B%9E%E6%BA%AF.html#_3-5-éé˜»å¡æ”¹è¿›" class="router-link-active router-link-exact-active toc-link level3">3.5 éé˜»å¡æ”¹è¿›</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="å¼‚æ­¥ç¼–ç¨‹å²å›æº¯" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥ç¼–ç¨‹å²å›æº¯" aria-hidden="true">#</a> å¼‚æ­¥ç¼–ç¨‹å²å›æº¯</h1><!----><p><a href="https://mp.weixin.qq.com/s/GgamzHPyZuSg45LoJKsofA" target="_blank" rel="noopener noreferrer">å›æº¯<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="ä¸€ã€ç¨‹åºæ‰§è¡ŒåŸºç¡€æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€ç¨‹åºæ‰§è¡ŒåŸºç¡€æ¦‚å¿µ" aria-hidden="true">#</a> ä¸€ã€ç¨‹åºæ‰§è¡ŒåŸºç¡€æ¦‚å¿µï¼š</h2><h3 id="_1-1-é˜»å¡" tabindex="-1"><a class="header-anchor" href="#_1-1-é˜»å¡" aria-hidden="true">#</a> <strong>1.1 é˜»å¡</strong></h3><ul><li>ç¨‹åºæœªå¾—åˆ°æ‰€éœ€è®¡ç®—èµ„æºæ—¶è¢«æŒ‚èµ·çš„çŠ¶æ€ã€‚</li><li><strong>ç¨‹åºåœ¨ç­‰å¾…æŸä¸ªæ“ä½œå®ŒæˆæœŸé—´ï¼Œè‡ªèº«æ— æ³•ç»§ç»­å¹²åˆ«çš„äº‹æƒ…ï¼Œåˆ™ç§°è¯¥ç¨‹åºåœ¨è¯¥æ“ä½œä¸Šæ˜¯é˜»å¡çš„ã€‚</strong></li><li>å¸¸è§çš„é˜»å¡å½¢å¼æœ‰ï¼šç½‘ç»œ I/O é˜»å¡ã€ç£ç›˜ I/O é˜»å¡ã€ç”¨æˆ·è¾“å…¥é˜»å¡ç­‰ã€‚</li></ul><p>é˜»å¡æ˜¯æ— å¤„ä¸åœ¨çš„ï¼ŒåŒ…æ‹¬ CPU åˆ‡æ¢ä¸Šä¸‹æ–‡æ—¶ï¼Œæ‰€æœ‰çš„è¿›ç¨‹éƒ½æ— æ³•çœŸæ­£å¹²äº‹æƒ…ï¼Œå®ƒä»¬ä¹Ÿä¼šè¢«é˜»å¡ã€‚ï¼ˆå¦‚æœæ˜¯å¤šæ ¸ CPU åˆ™æ­£åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢æ“ä½œçš„æ ¸ä¸å¯è¢«åˆ©ç”¨ï¼‰</p><h3 id="_1-2-éé˜»å¡" tabindex="-1"><a class="header-anchor" href="#_1-2-éé˜»å¡" aria-hidden="true">#</a> 1.2 éé˜»å¡</h3><ul><li><p>ç¨‹åºåœ¨ç­‰å¾…æŸæ“ä½œè¿‡ç¨‹ä¸­ï¼Œè‡ªèº«ä¸è¢«é˜»å¡ï¼Œå¯ä»¥ç»§ç»­è¿è¡Œå¹²åˆ«çš„äº‹æƒ…ï¼Œåˆ™ç§°è¯¥ç¨‹åºåœ¨è¯¥æ“ä½œä¸Šæ˜¯éé˜»å¡çš„ã€‚</p></li><li><p>éé˜»å¡å¹¶ä¸æ˜¯åœ¨ä»»ä½•ç¨‹åºçº§åˆ«ã€ä»»ä½•æƒ…å†µä¸‹éƒ½å¯ä»¥å­˜åœ¨çš„ã€‚</p></li><li><p>ä»…å½“ç¨‹åºå°è£…çš„çº§åˆ«å¯ä»¥å›Šæ‹¬ç‹¬ç«‹çš„å­ç¨‹åºå•å…ƒæ—¶ï¼Œå®ƒæ‰å¯èƒ½å­˜åœ¨éé˜»å¡çŠ¶æ€ã€‚</p></li></ul><p>éé˜»å¡çš„å­˜åœ¨æ˜¯å› ä¸ºé˜»å¡å­˜åœ¨ï¼Œæ­£å› ä¸ºæŸä¸ªæ“ä½œé˜»å¡å¯¼è‡´çš„è€—æ—¶ä¸æ•ˆç‡ä½ä¸‹ï¼Œæˆ‘ä»¬æ‰è¦æŠŠå®ƒå˜æˆéé˜»å¡çš„ã€‚</p><h3 id="_1-3-åŒæ­¥" tabindex="-1"><a class="header-anchor" href="#_1-3-åŒæ­¥" aria-hidden="true">#</a> 1.3 åŒæ­¥</h3><ul><li><p>ä¸åŒç¨‹åºå•å…ƒä¸ºäº†å®ŒæˆæŸä¸ªä»»åŠ¡ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€é æŸç§é€šä¿¡æ–¹å¼ä»¥åè°ƒä¸€è‡´ï¼Œç§°è¿™äº›ç¨‹åºå•å…ƒæ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚</p></li><li><p>ä¾‹å¦‚è´­ç‰©ç³»ç»Ÿä¸­æ›´æ–°å•†å“åº“å­˜ï¼Œéœ€è¦ç”¨â€œè¡Œé”â€ä½œä¸ºé€šä¿¡ä¿¡å·ï¼Œè®©ä¸åŒçš„æ›´æ–°è¯·æ±‚å¼ºåˆ¶æ’é˜Ÿé¡ºåºæ‰§è¡Œï¼Œé‚£æ›´æ–°åº“å­˜çš„æ“ä½œæ˜¯åŒæ­¥çš„ã€‚</p></li><li><p>ç®€è¨€ä¹‹ï¼ŒåŒæ­¥æ„å‘³ç€æœ‰åºã€‚</p></li></ul><h3 id="_1-4-å¼‚æ­¥" tabindex="-1"><a class="header-anchor" href="#_1-4-å¼‚æ­¥" aria-hidden="true">#</a> 1.4 å¼‚æ­¥</h3><ul><li>ä¸ºå®ŒæˆæŸä¸ªä»»åŠ¡ï¼Œä¸åŒç¨‹åºå•å…ƒä¹‹é—´è¿‡ç¨‹ä¸­æ— éœ€é€šä¿¡åè°ƒï¼Œä¹Ÿèƒ½å®Œæˆä»»åŠ¡çš„æ–¹å¼ã€‚</li><li>ä¸ç›¸å…³çš„ç¨‹åºå•å…ƒä¹‹é—´å¯ä»¥æ˜¯å¼‚æ­¥çš„ã€‚ ä¾‹å¦‚ï¼Œçˆ¬è™«ä¸‹è½½ç½‘é¡µã€‚è°ƒåº¦ç¨‹åºè°ƒç”¨ä¸‹è½½ç¨‹åºåï¼Œå³å¯è°ƒåº¦å…¶ä»–ä»»åŠ¡ï¼Œè€Œæ— éœ€ä¸è¯¥ä¸‹è½½ä»»åŠ¡ä¿æŒé€šä¿¡ä»¥åè°ƒè¡Œä¸ºã€‚ä¸åŒç½‘é¡µçš„ä¸‹è½½ã€ä¿å­˜ç­‰æ“ä½œ éƒ½æ˜¯æ— å…³çš„ï¼Œä¹Ÿæ— éœ€ç›¸äº’é€šçŸ¥åè°ƒã€‚è¿™äº›å¼‚æ­¥æ“ä½œçš„å®Œæˆæ—¶åˆ»å¹¶ä¸ç¡®å®šã€‚</li><li>ç®€è¨€ä¹‹ï¼Œå¼‚æ­¥æ„å‘³ç€æ— åºã€‚</li><li><span class="badge queen" style="vertical-align:top;">åç¨‹</span>ã€<span class="badge error" style="vertical-align:top;">è¿›ç¨‹æ± </span>ã€<span class="badge info" style="vertical-align:top;">çº¿ç¨‹æ± </span> è¿™äº›æ–¹å¼éƒ½èƒ½å®ç°</li></ul><p>ä¸Šæ–‡æåˆ°çš„â€œé€šä¿¡æ–¹å¼â€é€šå¸¸æ˜¯æŒ‡å¼‚æ­¥å’Œå¹¶å‘ç¼–ç¨‹æä¾›çš„åŒæ­¥åŸè¯­ï¼Œå¦‚ä¿¡å·é‡ã€é”ã€åŒæ­¥é˜Ÿåˆ—ç­‰ç­‰ã€‚æˆ‘ä»¬éœ€çŸ¥é“ï¼Œè™½ç„¶è¿™äº›é€šä¿¡æ–¹å¼æ˜¯ä¸ºäº†è®©å¤šä¸ªç¨‹åº åœ¨ä¸€å®šæ¡ä»¶ä¸‹åŒæ­¥æ‰§è¡Œï¼Œä½†æ­£å› ä¸ºæ˜¯å¼‚æ­¥çš„å­˜åœ¨ï¼Œæ‰éœ€è¦è¿™äº›é€šä¿¡æ–¹å¼ã€‚å¦‚æœæ‰€æœ‰ç¨‹åºéƒ½æ˜¯æŒ‰åºæ‰§è¡Œï¼Œå…¶æœ¬èº«å°±æ˜¯åŒæ­¥çš„ï¼Œåˆä½•éœ€è¿™äº›åŒæ­¥ä¿¡å·å‘¢ï¼Ÿ</p><h3 id="_1-5-å¹¶å‘" tabindex="-1"><a class="header-anchor" href="#_1-5-å¹¶å‘" aria-hidden="true">#</a> 1.5 å¹¶å‘</h3><ul><li><p>å¹¶å‘æè¿°çš„æ˜¯ç¨‹åºçš„ç»„ç»‡ç»“æ„ã€‚æŒ‡ç¨‹åºè¦è¢«è®¾è®¡æˆå¤šä¸ªå¯ç‹¬ç«‹æ‰§è¡Œçš„å­ä»»åŠ¡ã€‚</p></li><li><p>ä»¥åˆ©ç”¨æœ‰é™çš„è®¡ç®—æœºèµ„æºä½¿å¤šä¸ªä»»åŠ¡å¯ä»¥è¢«å®æ—¶æˆ–è¿‘å®æ—¶æ‰§è¡Œä¸ºç›®çš„ã€‚</p></li></ul><h3 id="_1-6-å¹¶è¡Œ" tabindex="-1"><a class="header-anchor" href="#_1-6-å¹¶è¡Œ" aria-hidden="true">#</a> 1.6 å¹¶è¡Œ</h3><ul><li><p>å¹¶è¡Œæè¿°çš„æ˜¯ç¨‹åºçš„æ‰§è¡ŒçŠ¶æ€ã€‚æŒ‡å¤šä¸ªä»»åŠ¡åŒæ—¶è¢«æ‰§è¡Œã€‚</p></li><li><p>ä»¥åˆ©ç”¨å¯Œä½™è®¡ç®—èµ„æºï¼ˆå¤šæ ¸ CPUï¼‰åŠ é€Ÿå®Œæˆå¤šä¸ªä»»åŠ¡ä¸ºç›®çš„ã€‚</p></li></ul><p>å¹¶å‘æä¾›äº†ä¸€ç§ç¨‹åºç»„ç»‡ç»“æ„æ–¹å¼ï¼Œè®©é—®é¢˜çš„è§£å†³æ–¹æ¡ˆå¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œä½†å¹¶è¡Œæ‰§è¡Œä¸æ˜¯å¿…é¡»çš„ã€‚</p><h3 id="_1-7-æ¦‚å¿µæ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_1-7-æ¦‚å¿µæ€»ç»“" aria-hidden="true">#</a> 1.7 æ¦‚å¿µæ€»ç»“</h3><ul><li><p>[å¹¶è¡Œ]æ˜¯ä¸ºäº†åˆ©ç”¨å¤šæ ¸åŠ é€Ÿå¤šä»»åŠ¡å®Œæˆçš„è¿›åº¦</p></li><li><p>[å¹¶å‘]æ˜¯ä¸ºäº†è®©ç‹¬ç«‹çš„å­ä»»åŠ¡éƒ½æœ‰æœºä¼šè¢«å°½å¿«æ‰§è¡Œï¼Œä½†ä¸ä¸€å®šèƒ½åŠ é€Ÿæ•´ä½“è¿›åº¦</p></li><li><p>[éé˜»å¡]æ˜¯ä¸ºäº†æé«˜ç¨‹åºæ•´ä½“æ‰§è¡Œæ•ˆç‡</p></li><li><p>[å¼‚æ­¥]æ˜¯é«˜æ•ˆåœ°ç»„ç»‡éé˜»å¡ä»»åŠ¡çš„æ–¹å¼</p></li></ul><p>è¦æ”¯æŒå¹¶å‘ï¼Œå¿…é¡»æ‹†åˆ†ä¸ºå¤šä»»åŠ¡ï¼Œä¸åŒä»»åŠ¡ç›¸å¯¹è€Œè¨€æ‰æœ‰é˜»å¡/éé˜»å¡ã€åŒæ­¥/å¼‚æ­¥ã€‚æ‰€ä»¥ï¼Œå¹¶å‘ã€å¼‚æ­¥ã€éé˜»å¡ä¸‰ä¸ªè¯æ€»æ˜¯å¦‚å½±éšå½¢ã€‚</p><h3 id="_1-8-å¼‚æ­¥ç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#_1-8-å¼‚æ­¥ç¼–ç¨‹" aria-hidden="true">#</a> 1.8 å¼‚æ­¥ç¼–ç¨‹</h3><p>ä»¥è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹ã€å‡½æ•°/æ–¹æ³•ä½œä¸ºæ‰§è¡Œä»»åŠ¡ç¨‹åºçš„åŸºæœ¬å•ä½ï¼Œç»“åˆå›è°ƒã€äº‹ä»¶å¾ªç¯ã€ä¿¡å·é‡ç­‰æœºåˆ¶ï¼Œä»¥æé«˜ç¨‹åºæ•´ä½“æ‰§è¡Œæ•ˆç‡å’Œå¹¶å‘èƒ½åŠ›çš„ç¼–ç¨‹æ–¹å¼ã€‚</p><p>å¦‚æœåœ¨æŸç¨‹åºçš„è¿è¡Œæ—¶ï¼Œèƒ½æ ¹æ®å·²ç»æ‰§è¡Œçš„æŒ‡ä»¤å‡†ç¡®åˆ¤æ–­å®ƒæ¥ä¸‹æ¥è¦è¿›è¡Œå“ªä¸ªå…·ä½“æ“ä½œï¼Œé‚£å®ƒæ˜¯åŒæ­¥ç¨‹åºï¼Œåä¹‹åˆ™ä¸ºå¼‚æ­¥ç¨‹åºã€‚ï¼ˆæ— åºä¸æœ‰åºçš„åŒºåˆ«ï¼‰</p><p>åŒæ­¥/å¼‚æ­¥ã€é˜»å¡/éé˜»å¡å¹¶éæ°´ç«ä¸å®¹ï¼Œè¦çœ‹è®¨è®ºçš„ç¨‹åºæ‰€å¤„çš„å°è£…çº§åˆ«ã€‚ä¾‹å¦‚è´­ç‰©ç¨‹åºåœ¨å¤„ç†å¤šä¸ªç”¨æˆ·çš„æµè§ˆè¯·æ±‚å¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œè€Œæ›´æ–°åº“å­˜æ—¶å¿…é¡»æ˜¯åŒæ­¥çš„ã€‚</p><h3 id="_1-9-å¼‚æ­¥ä¹‹nan" tabindex="-1"><a class="header-anchor" href="#_1-9-å¼‚æ­¥ä¹‹nan" aria-hidden="true">#</a> 1.9 å¼‚æ­¥ä¹‹<code>nÃ¡n</code></h3><p>æ§åˆ¶ä¸ä½â€œå¯„å‡ â€å†™çš„ç¨‹åºï¼Œå› ä¸ºå…¶æ‰§è¡Œé¡ºåºä¸å¯é¢„æ–™ï¼Œå½“ä¸‹æ­£è¦å‘ç”Ÿä»€ä¹ˆäº‹ä»¶ä¸å¯é¢„æ–™ã€‚åœ¨å¹¶è¡Œæƒ…å†µä¸‹æ›´ä¸ºå¤æ‚å’Œè‰°éš¾ã€‚</p><p>æ‰€ä»¥ï¼Œå‡ ä¹æ‰€æœ‰çš„å¼‚æ­¥æ¡†æ¶éƒ½å°†å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ç®€åŒ–ï¼šä¸€æ¬¡åªå…è®¸å¤„ç†ä¸€ä¸ªäº‹ä»¶ã€‚æ•…è€Œæœ‰å…³å¼‚æ­¥çš„è®¨è®ºå‡ ä¹éƒ½é›†ä¸­åœ¨äº†å•çº¿ç¨‹å†…ã€‚</p><p>å¦‚æœæŸäº‹ä»¶å¤„ç†ç¨‹åºéœ€è¦é•¿æ—¶é—´æ‰§è¡Œï¼Œæ‰€æœ‰å…¶ä»–éƒ¨åˆ†éƒ½ä¼šè¢«é˜»å¡ã€‚</p><p>æ‰€ä»¥ï¼Œä¸€æ—¦é‡‡å–å¼‚æ­¥ç¼–ç¨‹ï¼Œæ¯ä¸ªå¼‚æ­¥è°ƒç”¨å¿…é¡»â€œè¶³å¤Ÿå°â€ï¼Œä¸èƒ½è€—æ—¶å¤ªä¹…ã€‚å¦‚ä½•æ‹†åˆ†å¼‚æ­¥ä»»åŠ¡æˆäº†éš¾é¢˜ã€‚</p><p>ç¨‹åºä¸‹ä¸€æ­¥è¡Œä¸ºå¾€å¾€ä¾èµ–ä¸Šä¸€æ­¥æ‰§è¡Œç»“æœï¼Œå¦‚ä½•çŸ¥æ™“ä¸Šæ¬¡å¼‚æ­¥è°ƒç”¨å·²å®Œæˆå¹¶è·å–ç»“æœï¼Ÿ</p><p>å›è°ƒï¼ˆCallbackï¼‰æˆäº†å¿…ç„¶é€‰æ‹©ã€‚é‚£åˆéœ€è¦é¢ä¸´â€œå›è°ƒåœ°ç‹±â€çš„æŠ˜ç£¨ã€‚</p><p>åŒæ­¥ä»£ç æ”¹ä¸ºå¼‚æ­¥ä»£ç ï¼Œå¿…ç„¶ç ´åä»£ç ç»“æ„ã€‚</p><p>è§£å†³é—®é¢˜çš„é€»è¾‘ä¹Ÿè¦è½¬å˜ï¼Œä¸å†æ˜¯ä¸€æ¡è·¯èµ°åˆ°é»‘ï¼Œéœ€è¦ç²¾å¿ƒå®‰æ’å¼‚æ­¥ä»»åŠ¡ã€‚</p><h2 id="_2-è‹¦å¿ƒå¼‚æ­¥ä¸ºå“ªèˆ¬" tabindex="-1"><a class="header-anchor" href="#_2-è‹¦å¿ƒå¼‚æ­¥ä¸ºå“ªèˆ¬" aria-hidden="true">#</a> 2 è‹¦å¿ƒå¼‚æ­¥ä¸ºå“ªèˆ¬</h2><p>å¦‚ä¸Šæ–‡æ‰€è¿°ï¼Œå¼‚æ­¥ç¼–ç¨‹é¢ä¸´è¯¸å¤šéš¾ç‚¹ï¼ŒPython ä¹‹çˆ¶äº²è‡ªä¸Šé˜µæ‰“ç£¨ 4 å¹´æ‰ä½¿ asyncio æ¨¡å—åœ¨ Python 3.6 ä¸­â€œè½¬æ­£â€ï¼Œå¦‚æ­¤è‹¦å¿ƒä¸ºä»€ä¹ˆï¼Ÿç­”æ¡ˆåªæœ‰ä¸€ä¸ªï¼š å®ƒå€¼å¾—ï¼ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ä¸ºä½•è€Œå€¼å¾—ã€‚</p><h3 id="_2-1-cpu-çš„æ—¶é—´è§‚" tabindex="-1"><a class="header-anchor" href="#_2-1-cpu-çš„æ—¶é—´è§‚" aria-hidden="true">#</a> 2.1 CPU çš„æ—¶é—´è§‚</h3><p>æˆ‘ä»¬å°†ä¸€ä¸ª 2.6GHz çš„ CPU æ‹ŸäººåŒ–ï¼Œå‡è®¾å®ƒæ‰§è¡Œä¸€æ¡å‘½ä»¤çš„æ—¶é—´ï¼Œä»–å®ƒæ„Ÿè§‰ä¸Šè¿‡äº†ä¸€ç§’é’Ÿã€‚CPU æ˜¯è®¡ç®—æœºçš„å¤„ç†æ ¸å¿ƒï¼Œä¹Ÿæ˜¯æœ€å®è´µçš„èµ„æºï¼Œå¦‚æœæœ‰ æµªè´¹ CPU çš„è¿è¡Œæ—¶é—´ï¼Œå¯¼è‡´å…¶åˆ©ç”¨ç‡ä¸è¶³ï¼Œé‚£ç¨‹åºæ•ˆç‡å¿…ç„¶ä½ä¸‹ï¼ˆå› ä¸ºå®é™…ä¸Šæœ‰èµ„æºå¯ä»¥ä½¿æ•ˆç‡æ›´é«˜ï¼‰ã€‚</p><pre><code>CPUçš„æ—¶é—´è§‚ï¼š
    æ“ä½œ          çœŸå®å»¶è¿Ÿ            CPUçš„æ„Ÿè§‰
    æ‰§æŒ‡          0.38çº³ç§’               1ç§’
   å†…å­˜å¯»å€        100çº³ç§’             4åˆ†20ç§’
ä¸Šä¸‹æ–‡åˆ‡æ¢/ç³»ç»Ÿè°ƒç”¨ 1.5å¾®å¦™             1å°æ—¶5åˆ†é’Ÿ
Pingé€šIDCä¸¤å°ä¸»æœº  0.5æ¯«ç§’               15å¤©
ç¡¬ç›˜è¯»å–1Mè¿ç»­æ•°æ®  20æ¯«ç§’               20ä¸ªæœˆ
pingé€šä¸åŒåŸå¸‚ä¸»æœº  150æ¯«ç§’              12.5å¹´
  è™šæ‹Ÿæœºé‡å¯         4ç§’                 200å¹´
  æœåŠ¡å™¨é‡å¯        5åˆ†é’Ÿ                2ä¸‡5åƒå¹´
</code></pre><p>å¦‚ä¸Šæ–‡æ‰€ç¤ºï¼Œåœ¨åƒå…†ç½‘ä¸Šä¼ è¾“ 2KB æ•°æ®ï¼ŒCPU æ„Ÿè§‰è¿‡äº† 14 ä¸ªå°æ—¶ï¼Œå¦‚æœæ˜¯åœ¨ 10M çš„å…¬ç½‘ä¸Šå‘¢ï¼Ÿé‚£æ•ˆç‡ä¼šä½ç™¾å€ï¼å¦‚æœåœ¨è¿™ä¹ˆé•¿çš„ä¸€æ®µæ—¶é—´å†…ï¼ŒCPU åªæ˜¯å‚» ç­‰ç»“æœè€Œä¸èƒ½å»å¹²å…¶ä»–äº‹æƒ…ï¼Œæ˜¯ä¸æ˜¯åœ¨æµªè´¹ CPU çš„é’æ˜¥ï¼Ÿ</p><p>é²è¿…è¯´ï¼Œæµªè´¹â€œCPUâ€çš„æ—¶é—´ç­‰äºè°‹è´¢å®³å‘½ã€‚è€Œå‡¶æ‰‹å°±æ˜¯ç¨‹åºçŒ¿ã€‚</p><h3 id="_2-2-é¢ä¸´çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_2-2-é¢ä¸´çš„é—®é¢˜" aria-hidden="true">#</a> 2.2 é¢ä¸´çš„é—®é¢˜</h3><ul><li><p>æˆæœ¬é—®é¢˜:</p><pre><code>  å¦‚æœä¸€ä¸ªç¨‹åºä¸èƒ½æœ‰æ•ˆåˆ©ç”¨ä¸€å°è®¡ç®—æœºèµ„æºï¼Œé‚£å¿…ç„¶éœ€è¦æ›´å¤šçš„è®¡ç®—æœºé€šè¿‡è¿è¡Œæ›´å¤šçš„ç¨‹åºå®ä¾‹æ¥å¼¥è¡¥éœ€æ±‚ç¼ºå£ã€‚ä¾‹å¦‚æˆ‘å‰ä¸ä¹…ä¸»å¯¼é‡å†™
  çš„é¡¹ç›®ï¼Œä½¿ç”¨Pythonå¼‚æ­¥ç¼–ç¨‹ï¼Œæ”¹ç‰ˆåç”±åŸæ¥çš„7å°æœåŠ¡å™¨å‰Šå‡è‡³3å°ï¼Œæˆæœ¬éª¤é™57%ã€‚ä¸€å°AWS m4.xlarge å‹é€šç”¨æœåŠ¡å™¨æŒ‰éœ€ä»˜è´¹å®ä¾‹
  ä¸€å¹´ä»·æ ¼çº¦ 1.2 ä¸‡äººæ°‘å¸ã€‚
</code></pre></li><li><p>æ•ˆç‡é—®é¢˜:</p><pre><code>  å¦‚æœä¸åœ¨ä¹é’±çš„æ¶ˆè€—ï¼Œé‚£ä¹Ÿä¼šåœ¨æ„æ•ˆç‡é—®é¢˜ã€‚å½“æœåŠ¡å™¨æ•°é‡å †å åˆ°ä¸€å®šè§„æ¨¡åï¼Œå¦‚æœä¸æ”¹è¿›è½¯ä»¶æ¶æ„å’Œå®ç°ï¼ŒåŠ æœºå™¨æ˜¯å¾’åŠ³ï¼Œè€Œä¸”è¿ç»´æˆæœ¬
  ä¼šéª¤ç„¶å¢åŠ ã€‚æ¯”å¦‚åˆ«äººå®¶çš„ç”µå•†å¹³å°æ”¯æŒ6000å•/ç§’æ”¯ä»˜ï¼Œè€Œè‡ªå®¶åœ¨ä¸‹å•é‡æ‰æ”¯æ’‘2000å•/ç§’ï¼Œåœ¨åŒåä¸€è¿™ç§æ´»åŠ¨çš„æ—¶å€™ï¼Œé’±é€ä¸Šé—¨ä¹Ÿèµšä¸åˆ°ã€‚
</code></pre></li><li><p>C10k/C10M æŒ‘æˆ˜</p><pre><code>  C10kï¼ˆconcurrently handling 10k connectionsï¼‰æ˜¯ä¸€ä¸ªåœ¨1999å¹´è¢«æå‡ºæ¥çš„æŠ€æœ¯æŒ‘æˆ˜ï¼Œå¦‚ä½•åœ¨ä¸€é¢—1GHz CPUï¼Œ2Gå†…å­˜ï¼Œ1gbpsç½‘ç»œ
  ç¯å¢ƒä¸‹ï¼Œè®©å•å°æœåŠ¡å™¨åŒæ—¶ä¸º1ä¸‡ä¸ªå®¢æˆ·ç«¯æä¾›FTPæœåŠ¡ã€‚è€Œåˆ°äº†2010å¹´åï¼Œéšç€ç¡¬ä»¶æŠ€æœ¯çš„å‘å±•ï¼Œè¿™ä¸ªé—®é¢˜è¢«å»¶ä¼¸ä¸ºC10Mï¼Œå³å¦‚ä½•åˆ©ç”¨8æ ¸
  å¿ƒCPUï¼Œ64Gå†…å­˜ï¼Œåœ¨10gbpsçš„ç½‘ç»œä¸Šä¿æŒ1000ä¸‡å¹¶å‘è¿æ¥ï¼Œæˆ–æ˜¯æ¯ç§’é’Ÿå¤„ç†100ä¸‡çš„è¿æ¥ã€‚ï¼ˆä¸¤ç§ç±»å‹çš„è®¡ç®—æœºèµ„æºåœ¨å„è‡ªçš„æ—¶ä»£éƒ½çº¦ä¸º
  1200ç¾å…ƒï¼‰
</code></pre></li></ul><p>æˆæœ¬å’Œæ•ˆç‡é—®é¢˜æ˜¯ä»ä¼ä¸šç»è¥è§’åº¦è®²ï¼ŒC10k/C10M é—®é¢˜åˆ™æ˜¯ä»æŠ€æœ¯è§’åº¦å‡ºå‘æŒ‘æˆ˜è½¯ç¡¬ä»¶æé™ã€‚C10k/C10M é—®é¢˜å¾—è§£ï¼Œæˆæœ¬é—®é¢˜å’Œæ•ˆç‡é—®é¢˜è¿åˆƒè€Œè§£ã€‚</p><h3 id="_2-3-è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_2-3-è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> 2.3 è§£å†³æ–¹æ¡ˆ</h3><p>ã€Šçº¦æŸç†è®ºä¸ä¼ä¸šä¼˜åŒ–ã€‹ä¸­æŒ‡å‡ºï¼šâ€œé™¤äº†ç“¶é¢ˆä¹‹å¤–ï¼Œä»»ä½•æ”¹è¿›éƒ½æ˜¯å¹»è§‰ã€‚â€</p><p>CPU å‘Šè¯‰æˆ‘ä»¬ï¼Œå®ƒè‡ªå·±å¾ˆå¿«ï¼Œè€Œä¸Šä¸‹æ–‡åˆ‡æ¢æ…¢ã€å†…å­˜è¯»æ•°æ®æ…¢ã€ç£ç›˜å¯»å€ä¸å–æ•°æ®æ…¢ã€ç½‘ç»œä¼ è¾“æ…¢â€¦â€¦æ€»ä¹‹ï¼Œç¦»å¼€ CPU åçš„ä¸€åˆ‡ï¼Œé™¤äº†ä¸€çº§é«˜é€Ÿç¼“å­˜ï¼Œéƒ½å¾ˆæ…¢ã€‚æˆ‘ä»¬è§‚å¯Ÿè®¡ç®—æœºçš„ç»„æˆå¯ä»¥çŸ¥é“ï¼Œä¸»è¦ç”±è¿ç®—å™¨ã€æ§åˆ¶å™¨ã€å­˜å‚¨å™¨ã€è¾“å…¥è®¾å¤‡ã€è¾“å‡ºè®¾å¤‡äº”éƒ¨åˆ†ç»„æˆã€‚è¿ç®—å™¨å’Œæ§åˆ¶å™¨ä¸»è¦é›†æˆåœ¨ CPU ä¸­ï¼Œé™¤æ­¤ä¹‹å¤–å…¨æ˜¯ I/Oï¼ŒåŒ…æ‹¬è¯»å†™å†…å­˜ã€è¯»å†™ç£ç›˜ã€è¯»å†™ç½‘å¡å…¨éƒ½æ˜¯ I/Oã€‚I/O æˆäº†æœ€å¤§çš„ç“¶é¢ˆã€‚</p><p>å¼‚æ­¥ç¨‹åºå¯ä»¥æé«˜æ•ˆç‡ï¼Œè€Œæœ€å¤§çš„ç“¶é¢ˆåœ¨ I/Oï¼Œä¸šç•Œè¯ç”Ÿçš„è§£å†³æ–¹æ¡ˆæ²¡å‡ºæ„æ–™ï¼šå¼‚æ­¥ I/O å§ï¼Œå¼‚æ­¥ I/O å§ï¼Œå¼‚æ­¥ I/O å§å§ï¼</p><h2 id="_3-å¼‚æ­¥-i-o-è¿›åŒ–ä¹‹è·¯" tabindex="-1"><a class="header-anchor" href="#_3-å¼‚æ­¥-i-o-è¿›åŒ–ä¹‹è·¯" aria-hidden="true">#</a> 3 å¼‚æ­¥ I/O è¿›åŒ–ä¹‹è·¯</h2><p>å¦‚ä»Šï¼Œåœ°çƒä¸Šæœ€å‘è¾¾ã€è§„æ¨¡æœ€åºå¤§çš„è®¡ç®—æœºç¨‹åºï¼Œè«è¿‡äºå› ç‰¹ç½‘ã€‚è€Œä» CPU çš„æ—¶é—´è§‚ä¸­å¯çŸ¥ï¼Œç½‘ç»œ I/O æ˜¯æœ€å¤§çš„ I/O ç“¶é¢ˆï¼Œé™¤äº†å®•æœºæ²¡æœ‰æ¯”å®ƒæ›´æ…¢çš„ ã€‚æ‰€ä»¥ï¼Œè¯¸å¤šå¼‚æ­¥æ¡†æ¶éƒ½å¯¹å‡†çš„æ˜¯ç½‘ç»œ I/Oã€‚</p><p>æˆ‘ä»¬ä»ä¸€ä¸ªçˆ¬è™«ä¾‹å­è¯´èµ·ï¼Œä»å› ç‰¹ç½‘ä¸Šä¸‹è½½ 10 ç¯‡ç½‘é¡µã€‚</p><h3 id="_3-1-åŒæ­¥é˜»å¡æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_3-1-åŒæ­¥é˜»å¡æ–¹å¼" aria-hidden="true">#</a> 3.1 åŒæ­¥é˜»å¡æ–¹å¼</h3><p>æœ€å®¹æ˜“æƒ³åˆ°çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ä¾æ¬¡ä¸‹è½½ï¼Œä»å»ºç«‹ socket è¿æ¥åˆ°å‘é€ç½‘ç»œè¯·æ±‚å†åˆ°è¯»å–å“åº”æ•°æ®ï¼Œé¡ºåºè¿›è¡Œã€‚</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> socket


<span class="token keyword">def</span> <span class="token function">blocking_way</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sock <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># blocking</span>
    sock<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;example.com&quot;</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    request <span class="token operator">=</span> <span class="token string">&quot;GET HTTP:1.0/\r\n Host: example.com\r\n\r\n&quot;</span>
    sock<span class="token punctuation">.</span>send<span class="token punctuation">(</span>request<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&quot;ascii&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    response <span class="token operator">=</span> <span class="token string">b&#39;&#39;</span>
    chunk <span class="token operator">=</span> sock<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span>
    <span class="token keyword">while</span> chunk<span class="token punctuation">:</span>
        response <span class="token operator">+=</span> chunk
        <span class="token comment"># blocking</span>
        chunk <span class="token operator">=</span> sock<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> response


<span class="token keyword">def</span> <span class="token function">sync_way</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>blocking_way<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> time

    start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sync_way<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>[æ³¨]ï¼šæ€»ä½“è€—æ—¶çº¦ä¸º 4.5 ç§’ã€‚ï¼ˆå› ç½‘ç»œæ³¢åŠ¨æ¯æ¬¡æµ‹è¯•ç»“æœæœ‰æ‰€å˜åŠ¨ï¼Œæœ¬æ–‡å–å¤šæ¬¡å¹³å‡å€¼ï¼‰</p><p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œblocking_way() çš„ä½œç”¨æ˜¯å»ºç«‹ socket è¿æ¥ï¼Œå‘é€ HTTP è¯·æ±‚ï¼Œç„¶åä» socket è¯»å– HTTP å“åº”å¹¶è¿”å›æ•°æ®ã€‚ç¤ºä¾‹ä¸­æˆ‘ä»¬è¯·æ±‚äº† <a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> çš„é¦–é¡µã€‚åœ¨ sync_way() æ‰§è¡Œäº† 10 æ¬¡ï¼Œå³ä¸‹è½½ <a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> é¦–é¡µ 10 æ¬¡ã€‚</p><p>åœ¨ç¤ºä¾‹ä»£ç ä¸­æœ‰ä¸¤ä¸ªå…³é”®ç‚¹ã€‚ä¸€æ˜¯ç¬¬ 10 è¡Œçš„ sock.connect((â€˜<a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>â€™, 80))ï¼Œè¯¥è°ƒç”¨çš„ä½œç”¨æ˜¯å‘ <a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸»æœºçš„ 80 ç«¯å£å‘èµ·ç½‘ç»œè¿æ¥ è¯·æ±‚ã€‚ äºŒæ˜¯ç¬¬ 14 è¡Œã€ç¬¬ 18 è¡Œçš„ sock.recv(4096)ï¼Œè¯¥è°ƒç”¨çš„ä½œç”¨æ˜¯ä» socket ä¸Šè¯»å– 4K å­—èŠ‚æ•°æ®ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåˆ›å»ºç½‘ç»œè¿æ¥ï¼Œå¤šä¹…èƒ½åˆ›å»ºå®Œæˆä¸æ˜¯å®¢æˆ·ç«¯å†³å®šçš„ï¼Œè€Œæ˜¯ç”±ç½‘ç»œçŠ¶å†µå’ŒæœåŠ¡ç«¯å¤„ç†èƒ½åŠ›å…±åŒå†³å®šã€‚æœåŠ¡ç«¯ä»€ä¹ˆæ—¶å€™è¿”å›äº†å“åº”æ•°æ®å¹¶è¢«å®¢æˆ· ç«¯æ¥æ”¶åˆ°å¯ä¾›ç¨‹åºè¯»å–ï¼Œä¹Ÿæ˜¯ä¸å¯é¢„æµ‹çš„ã€‚æ‰€ä»¥ sock.connect()å’Œ sock.recv()è¿™ä¸¤ä¸ªè°ƒç”¨åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯é˜»å¡çš„ã€‚</p><p>[æ³¨]ï¼šsock.send()å‡½æ•°å¹¶ä¸ä¼šé˜»å¡å¤ªä¹…ï¼Œå®ƒåªè´Ÿè´£å°†è¯·æ±‚æ•°æ®æ‹·è´åˆ° TCP/IP åè®®æ ˆçš„ç³»ç»Ÿç¼“å†²åŒºä¸­å°±è¿”å›ï¼Œå¹¶ä¸ç­‰å¾…æœåŠ¡ç«¯è¿”å›çš„åº”ç­”ç¡®è®¤ã€‚</p><p>å‡è®¾ç½‘ç»œç¯å¢ƒå¾ˆå·®ï¼Œåˆ›å»ºç½‘ç»œè¿æ¥éœ€è¦ 1 ç§’é’Ÿï¼Œé‚£ä¹ˆ sock.connect()å°±å¾—é˜»å¡ 1 ç§’é’Ÿï¼Œç­‰å¾…ç½‘ç»œè¿æ¥æˆåŠŸã€‚è¿™ 1 ç§’é’Ÿå¯¹ä¸€é¢— 2.6GHz çš„ CPU æ¥è®²ï¼Œä»¿ä½›è¿‡å» äº† 83 å¹´ï¼Œç„¶è€Œå®ƒä¸èƒ½å¹²ä»»ä½•äº‹æƒ…ã€‚sock.recv()ä¹Ÿæ˜¯ä¸€æ ·çš„å¿…é¡»å¾—ç­‰åˆ°æœåŠ¡ç«¯çš„å“åº”æ•°æ®å·²ç»è¢«å®¢æˆ·ç«¯æ¥æ”¶ã€‚æˆ‘ä»¬ä¸‹è½½ 10 ç¯‡ç½‘é¡µï¼Œè¿™ä¸ªé˜»å¡è¿‡ç¨‹å°±å¾— é‡å¤ 10 æ¬¡ã€‚å¦‚æœä¸€ä¸ªçˆ¬è™«ç³»ç»Ÿæ¯å¤©è¦ä¸‹è½½ 1000 ä¸‡ç¯‡ç½‘é¡µå‘¢ï¼Ÿï¼</p><p>ä¸Šé¢è¯´äº†å¾ˆå¤šï¼Œæˆ‘ä»¬åŠ›å›¾è¯´æ˜ä¸€ä»¶äº‹ï¼šåŒæ­¥é˜»å¡çš„ç½‘ç»œäº¤äº’æ–¹å¼ï¼Œæ•ˆç‡ä½ååˆ†ä½ä¸‹ã€‚ç‰¹åˆ«æ˜¯åœ¨ç½‘ç»œäº¤äº’é¢‘ç¹çš„ç¨‹åºä¸­ã€‚è¿™ç§æ–¹å¼æ ¹æœ¬ä¸å¯èƒ½æŒ‘ æˆ˜ C10K/C10Mã€‚</p><h3 id="_3-2-æ”¹è¿›æ–¹å¼-å¤šè¿›ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-2-æ”¹è¿›æ–¹å¼-å¤šè¿›ç¨‹" aria-hidden="true">#</a> 3.2 æ”¹è¿›æ–¹å¼ï¼šå¤šè¿›ç¨‹</h3><p>åœ¨ä¸€ä¸ªç¨‹åºå†…ï¼Œä¾æ¬¡æ‰§è¡Œ 10 æ¬¡å¤ªè€—æ—¶ï¼Œé‚£å¼€ 10 ä¸ªä¸€æ ·çš„ç¨‹åºåŒæ—¶æ‰§è¡Œä¸å°±è¡Œäº†ã€‚äºæ˜¯æˆ‘ä»¬æƒ³åˆ°äº†å¤šè¿›ç¨‹ç¼–ç¨‹ã€‚ä¸ºä»€ä¹ˆä¼šå…ˆæƒ³åˆ°å¤šè¿›ç¨‹å‘¢ï¼Ÿå‘å±•è„‰ç»œ å¦‚æ­¤ã€‚åœ¨æ›´æ—©çš„æ“ä½œç³»ç»Ÿï¼ˆLinux 2.4ï¼‰åŠå…¶ä»¥å‰ï¼Œè¿›ç¨‹æ˜¯ OS è°ƒåº¦ä»»åŠ¡çš„å®ä½“ï¼Œæ˜¯é¢å‘è¿›ç¨‹è®¾è®¡çš„ OSã€‚</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> socket

<span class="token keyword">from</span> concurrent <span class="token keyword">import</span> futures


<span class="token keyword">def</span> <span class="token function">blocking_way</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sock <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># blocking</span>
    sock<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;example.com&quot;</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    request <span class="token operator">=</span> <span class="token string">&quot;GET HTTP:1.0/\r\n Host: example.com\r\n\r\n&quot;</span>
    sock<span class="token punctuation">.</span>send<span class="token punctuation">(</span>request<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&quot;ascii&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    response <span class="token operator">=</span> <span class="token string">b&#39;&#39;</span>
    chunk <span class="token operator">=</span> sock<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span>
    <span class="token keyword">while</span> chunk<span class="token punctuation">:</span>
        response <span class="token operator">+=</span> chunk
        <span class="token comment"># blocking</span>
        chunk <span class="token operator">=</span> sock<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> response


<span class="token keyword">def</span> <span class="token function">process_way</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    workers <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">with</span> futures<span class="token punctuation">.</span>ProcessPoolExecutor<span class="token punctuation">(</span>workers<span class="token punctuation">)</span> <span class="token keyword">as</span> executor<span class="token punctuation">:</span>
        futs <span class="token operator">=</span> <span class="token punctuation">{</span>executor<span class="token punctuation">.</span>submit<span class="token punctuation">(</span>blocking_way<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>fut<span class="token punctuation">.</span>result<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> fut <span class="token keyword">in</span> futs<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>[æ³¨]ï¼šæ€»ä½“è€—æ—¶çº¦ä¸º 0.6 ç§’ã€‚(è‡ªæµ‹ï¼Œwindows ä¸‹å¹¶æ²¡æœ‰ï¼Œä¹Ÿè¦ 2~3s)</p><p>æ”¹å–„æ•ˆæœç«‹ç«¿è§å½±ã€‚ä½†ä»ç„¶æœ‰é—®é¢˜ã€‚æ€»ä½“è€—æ—¶å¹¶æ²¡æœ‰ç¼©å‡åˆ°åŸæ¥çš„ååˆ†ä¹‹ä¸€ï¼Œè€Œæ˜¯ä¹åˆ†ä¹‹ä¸€å·¦å³ï¼Œè¿˜æœ‰ä¸€äº›æ—¶é—´è€—åˆ°å“ªé‡Œå»äº†ï¼Ÿè¿›ç¨‹åˆ‡æ¢å¼€é”€ã€‚</p><p>è¿›ç¨‹åˆ‡æ¢å¼€é”€ä¸æ­¢åƒâ€œCPU çš„æ—¶é—´è§‚â€æ‰€åˆ—çš„â€œä¸Šä¸‹æ–‡åˆ‡æ¢â€é‚£ä¹ˆä½ã€‚CPU ä»ä¸€ä¸ªè¿›ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œéœ€è¦æŠŠæ—§è¿›ç¨‹è¿è¡Œæ—¶çš„å¯„å­˜å™¨çŠ¶æ€ã€å†…å­˜çŠ¶æ€å…¨éƒ¨ ä¿å­˜å¥½ï¼Œå†å°†å¦ä¸€ä¸ªè¿›ç¨‹ä¹‹å‰ä¿å­˜çš„æ•°æ®æ¢å¤ã€‚å¯¹ CPU æ¥è®²ï¼Œå‡ ä¸ªå°æ—¶å°±å¹²ç­‰ç€ã€‚å½“è¿›ç¨‹æ•°é‡å¤§äº CPU æ ¸å¿ƒæ•°é‡æ—¶ï¼Œè¿›ç¨‹åˆ‡æ¢æ˜¯å¿…ç„¶éœ€è¦çš„ã€‚</p><p>é™¤äº†åˆ‡æ¢å¼€é”€ï¼Œå¤šè¿›ç¨‹è¿˜æœ‰å¦å¤–çš„ç¼ºç‚¹ã€‚ä¸€èˆ¬çš„æœåŠ¡å™¨åœ¨èƒ½å¤Ÿç¨³å®šè¿è¡Œçš„å‰æä¸‹ï¼Œå¯ä»¥åŒæ—¶å¤„ç†çš„è¿›ç¨‹æ•°åœ¨æ•°åä¸ªåˆ°æ•°ç™¾ä¸ªè§„æ¨¡ã€‚å¦‚æœè¿›ç¨‹æ•°é‡è§„æ¨¡ æ›´å¤§ï¼Œç³»ç»Ÿè¿è¡Œå°†ä¸ç¨³å®šï¼Œè€Œä¸”å¯ç”¨å†…å­˜èµ„æºå¾€å¾€ä¹Ÿä¼šä¸è¶³ã€‚</p><p>å¤šè¿›ç¨‹è§£å†³æ–¹æ¡ˆåœ¨é¢ä¸´æ¯å¤©éœ€è¦æˆç™¾ä¸Šåƒä¸‡æ¬¡ä¸‹è½½ä»»åŠ¡çš„çˆ¬è™«ç³»ç»Ÿï¼Œæˆ–è€…éœ€è¦åŒæ—¶æå®šæ•°ä¸‡å¹¶å‘çš„ç”µå•†ç³»ç»Ÿæ¥è¯´ï¼Œå¹¶ä¸é€‚åˆã€‚</p><p>é™¤äº†åˆ‡æ¢å¼€é”€å¤§ï¼Œä»¥åŠå¯æ”¯æŒçš„ä»»åŠ¡è§„æ¨¡å°ä¹‹å¤–ï¼Œå¤šè¿›ç¨‹è¿˜æœ‰å…¶ä»–ç¼ºç‚¹ï¼Œå¦‚çŠ¶æ€å…±äº«ç­‰é—®é¢˜ï¼Œåæ–‡ä¼šæœ‰æåŠï¼Œæ­¤å¤„ä¸å†ç»†ç©¶ã€‚</p><h3 id="_3-3-ç»§ç»­æ”¹è¿›-å¤šçº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-3-ç»§ç»­æ”¹è¿›-å¤šçº¿ç¨‹" aria-hidden="true">#</a> 3.3 ç»§ç»­æ”¹è¿›ï¼šå¤šçº¿ç¨‹</h3><p>ç”±äºçº¿ç¨‹çš„æ•°æ®ç»“æ„æ¯”è¿›ç¨‹æ›´è½»é‡çº§ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹å¯ä»¥å®¹çº³å¤šä¸ªçº¿ç¨‹ï¼Œä»è¿›ç¨‹åˆ°çº¿ç¨‹çš„ä¼˜åŒ–ç”±æ­¤å±•å¼€ã€‚åæ¥çš„ OS ä¹ŸæŠŠè°ƒåº¦å•ä½ç”±è¿›ç¨‹è½¬ä¸ºçº¿ç¨‹ï¼Œè¿› ç¨‹åªä½œä¸ºçº¿ç¨‹çš„å®¹å™¨ï¼Œç”¨äºç®¡ç†è¿›ç¨‹æ‰€éœ€çš„èµ„æºã€‚è€Œä¸” OS çº§åˆ«çš„çº¿ç¨‹æ˜¯å¯ä»¥è¢«åˆ†é…åˆ°ä¸åŒçš„ CPU æ ¸å¿ƒåŒæ—¶è¿è¡Œçš„ã€‚</p><pre><code>def thread_way():
    workers = 10
    with futures.ThreadPoolExecutor(workers) as executor:
        futs = {executor.submit(blocking_way) for i in range(10)}
    return len([fut.result() for fut in futs])
</code></pre><p>[æ³¨]ï¼šæ€»ä½“è¿è¡Œæ—¶é—´çº¦ 0.43 ç§’ã€‚(æˆ‘æ‰¿è®¤ï¼Œæ˜¯å¿«äº†ä¸å°‘)</p><p>ç»“æœç¬¦åˆé¢„æœŸï¼Œæ¯”å¤šè¿›ç¨‹è€—æ—¶è¦å°‘äº›ã€‚ä»è¿è¡Œæ—¶é—´ä¸Šçœ‹ï¼Œå¤šçº¿ç¨‹ä¼¼ä¹å·²ç»è§£å†³äº†åˆ‡æ¢å¼€é”€å¤§çš„é—®é¢˜ã€‚è€Œä¸”å¯æ”¯æŒçš„ä»»åŠ¡æ•°é‡è§„æ¨¡ï¼Œä¹Ÿå˜æˆäº†æ•°ç™¾ä¸ªåˆ°æ•°åƒä¸ªã€‚</p><p>ä½†æ˜¯ï¼Œå¤šçº¿ç¨‹ä»æœ‰é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯ Python é‡Œçš„å¤šçº¿ç¨‹ã€‚é¦–å…ˆï¼ŒPython ä¸­çš„å¤šçº¿ç¨‹å› ä¸º GIL çš„å­˜åœ¨ï¼Œå®ƒä»¬å¹¶ä¸èƒ½åˆ©ç”¨ CPU å¤šæ ¸ä¼˜åŠ¿ï¼Œä¸€ä¸ª Python è¿›ç¨‹ä¸­ï¼Œ åªå…è®¸æœ‰ä¸€ä¸ªçº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€ã€‚é‚£ä¸ºä»€ä¹ˆç»“æœè¿˜æ˜¯å¦‚é¢„æœŸï¼Œè€—æ—¶ç¼©å‡åˆ°äº†ååˆ†ä¹‹ä¸€ï¼Ÿ</p><p>å› ä¸ºåœ¨åšé˜»å¡çš„ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¾‹å¦‚ sock.connect(),sock.recv()æ—¶ï¼Œå½“å‰çº¿ç¨‹ä¼šé‡Šæ”¾ GILï¼Œè®©åˆ«çš„çº¿ç¨‹æœ‰æ‰§è¡Œæœºä¼šã€‚ä½†æ˜¯å•ä¸ªçº¿ç¨‹å†…ï¼Œåœ¨é˜»å¡è°ƒç”¨ä¸Š è¿˜æ˜¯é˜»å¡çš„ã€‚</p><p>å°æç¤ºï¼šPython ä¸­ time.sleep æ˜¯é˜»å¡çš„ï¼Œéƒ½çŸ¥é“ä½¿ç”¨å®ƒè¦è°¨æ…ï¼Œä½†åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œtime.sleep å¹¶ä¸ä¼šé˜»å¡å…¶ä»–çº¿ç¨‹ã€‚</p><p>é™¤äº† GIL ä¹‹å¤–ï¼Œæ‰€æœ‰çš„å¤šçº¿ç¨‹è¿˜æœ‰é€šç—…ã€‚å®ƒä»¬æ˜¯è¢« OS è°ƒåº¦ï¼Œè°ƒåº¦ç­–ç•¥æ˜¯æŠ¢å å¼çš„ï¼Œä»¥ä¿è¯åŒç­‰ä¼˜å…ˆçº§çš„çº¿ç¨‹éƒ½æœ‰å‡ç­‰çš„æ‰§è¡Œæœºä¼šï¼Œé‚£å¸¦æ¥çš„é—®é¢˜æ˜¯ï¼šå¹¶ ä¸çŸ¥é“ä¸‹ä¸€æ—¶åˆ»æ˜¯å“ªä¸ªçº¿ç¨‹è¢«è¿è¡Œï¼Œä¹Ÿä¸çŸ¥é“å®ƒæ­£è¦æ‰§è¡Œçš„ä»£ç æ˜¯ä»€ä¹ˆã€‚æ‰€ä»¥å°±å¯èƒ½å­˜åœ¨ç«æ€æ¡ä»¶ã€‚</p><p>ä¾‹å¦‚çˆ¬è™«å·¥ä½œçº¿ç¨‹ä»ä»»åŠ¡é˜Ÿåˆ—æ‹¿å¾…æŠ“å– URL çš„æ—¶å€™ï¼Œå¦‚æœå¤šä¸ªçˆ¬è™«çº¿ç¨‹åŒæ—¶æ¥å–ï¼Œé‚£è¿™ä¸ªä»»åŠ¡åˆ°åº•è¯¥ç»™è°ï¼Ÿé‚£å°±éœ€è¦ç”¨åˆ°â€œé”â€æˆ–â€œåŒæ­¥é˜Ÿåˆ—â€æ¥ä¿è¯ä¸‹è½½ ä»»åŠ¡ä¸ä¼šè¢«é‡å¤æ‰§è¡Œã€‚</p><p>è€Œä¸”çº¿ç¨‹æ”¯æŒçš„å¤šä»»åŠ¡è§„æ¨¡ï¼Œåœ¨æ•°ç™¾åˆ°æ•°åƒçš„æ•°é‡è§„æ¨¡ã€‚åœ¨å¤§è§„æ¨¡çš„é«˜é¢‘ç½‘ç»œäº¤äº’ç³»ç»Ÿä¸­ï¼Œä»ç„¶æœ‰äº›åƒåŠ›ã€‚å½“ç„¶ï¼Œå¤šçº¿ç¨‹æœ€ä¸»è¦çš„é—®é¢˜è¿˜æ˜¯ç«æ€æ¡ä»¶ã€‚</p><h3 id="_3-4-éé˜»å¡æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_3-4-éé˜»å¡æ–¹å¼" aria-hidden="true">#</a> 3.4 éé˜»å¡æ–¹å¼</h3><p>ç»ˆäºï¼Œæˆ‘ä»¬æ¥åˆ°äº†éé˜»å¡è§£å†³æ–¹æ¡ˆã€‚å…ˆæ¥çœ‹çœ‹æœ€åŸå§‹çš„éé˜»å¡å¦‚ä½•å·¥ä½œçš„ã€‚</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">nonblocking_way</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sock <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sock<span class="token punctuation">.</span>setblocking<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        sock<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;example.com&quot;</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> BlockingIOError<span class="token punctuation">:</span>
        <span class="token comment"># éé˜»å¡è¿æ¥è¿‡ç¨‹ä¸­ ä¹Ÿä¼š æŠ›å‡ºå¼‚å¸¸</span>
        <span class="token keyword">pass</span>
    request <span class="token operator">=</span> <span class="token string">&quot;GET HTTP:1.0/\r\n Host: example.com\r\n\r\n&quot;</span>
    data <span class="token operator">=</span> request<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&quot;ascii&quot;</span><span class="token punctuation">)</span>
    <span class="token comment"># ä¸ç›´åˆ°socketä½•æ—¶å°±ç»ªï¼Œæ‰€ä»¥ä¸æ–­å°è¯•å‘é€</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            sock<span class="token punctuation">.</span>send<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
            <span class="token comment"># ç›´åˆ°sendä¸æŠ›å¼‚å¸¸ï¼Œåˆ™å‘é€å®Œæˆ</span>
            <span class="token keyword">break</span>
        <span class="token keyword">except</span> OSError<span class="token punctuation">:</span>
            <span class="token keyword">pass</span>

    response <span class="token operator">=</span> <span class="token string">b&#39;&#39;</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            chunk <span class="token operator">=</span> sock<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span>
            <span class="token keyword">while</span> chunk<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span>
                response <span class="token operator">+=</span> chunk
                chunk <span class="token operator">=</span> sock<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token keyword">except</span> OSError<span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
    <span class="token keyword">return</span> response
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">sync_way</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nonblocking_way<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>[æ³¨]ï¼šæ€»ä½“è€—æ—¶çº¦ 4.3 ç§’ã€‚ é¦–å…ˆæ³¨æ„åˆ°ä¸¤ç‚¹ï¼Œå°±æ„Ÿè§‰è¢«éª—äº†ã€‚ä¸€æ˜¯è€—æ—¶ä¸åŒæ­¥é˜»å¡ç›¸å½“ï¼ŒäºŒæ˜¯ä»£ç æ›´å¤æ‚ã€‚è¦éé˜»å¡ä½•ç”¨ï¼Ÿä¸”æ…¢ã€‚</p><p>ä¸Šå›¾ç¬¬ 9 è¡Œä»£ç  sock.setblocking(False)å‘Šè¯‰ OSï¼Œè®© socket ä¸Šé˜»å¡è°ƒç”¨éƒ½æ”¹ä¸ºéé˜»å¡çš„æ–¹å¼ã€‚ä¹‹å‰æˆ‘ä»¬è¯´åˆ°ï¼Œéé˜»å¡å°±æ˜¯åœ¨åšä¸€ä»¶äº‹çš„æ—¶å€™ï¼Œä¸é˜»ç¢ è°ƒç”¨å®ƒçš„ç¨‹åºåšåˆ«çš„äº‹æƒ…ã€‚ä¸Šè¿°ä»£ç åœ¨æ‰§è¡Œå®Œ sock.connect() å’Œ sock.recv() åçš„ç¡®ä¸å†é˜»å¡ï¼Œå¯ä»¥ç»§ç»­å¾€ä¸‹æ‰§è¡Œè¯·æ±‚å‡†å¤‡çš„ä»£ç æˆ–è€…æ˜¯æ‰§è¡Œ ä¸‹ä¸€æ¬¡è¯»å–ã€‚</p><p>ä»£ç å˜å¾—æ›´å¤æ‚ä¹Ÿæ˜¯ä¸Šè¿°åŸå› æ‰€è‡´ã€‚ç¬¬ 11 è¡Œè¦æ”¾åœ¨ try è¯­å¥å†…ï¼Œæ˜¯å› ä¸º socket åœ¨å‘é€éé˜»å¡è¿æ¥è¯·æ±‚è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿåº•å±‚ä¹Ÿä¼šæŠ›å‡ºå¼‚å¸¸ã€‚connect()è¢« è°ƒç”¨ä¹‹åï¼Œç«‹å³å¯ä»¥å¾€ä¸‹æ‰§è¡Œç¬¬ 15 å’Œ 16 è¡Œçš„ä»£ç ã€‚</p><p>éœ€è¦ while å¾ªç¯ä¸æ–­å°è¯• send()ï¼Œæ˜¯å› ä¸º connect()å·²ç»éé˜»å¡ï¼Œåœ¨ send()ä¹‹æ—¶å¹¶ä¸çŸ¥é“ socket çš„è¿æ¥æ˜¯å¦å°±ç»ªï¼Œåªæœ‰ä¸æ–­å°è¯•ï¼Œå°è¯•æˆåŠŸä¸ºæ­¢ï¼Œ å³å‘é€æ•°æ®æˆåŠŸäº†ã€‚recv()è°ƒç”¨ä¹Ÿæ˜¯åŒç†ã€‚</p><p>è™½ç„¶ connect() å’Œ recv() ä¸å†é˜»å¡ä¸»ç¨‹åºï¼Œç©ºå‡ºæ¥çš„æ—¶é—´æ®µ CPU æ²¡æœ‰ç©ºé—²ç€ï¼Œä½†å¹¶æ²¡æœ‰åˆ©ç”¨å¥½è¿™ç©ºé—²å»åšå…¶ä»–æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œè€Œæ˜¯åœ¨å¾ªç¯å°è¯•è¯»å†™ socket ï¼ˆä¸åœåˆ¤æ–­éé˜»å¡è°ƒç”¨çš„çŠ¶æ€æ˜¯å¦å°±ç»ªï¼‰ã€‚è¿˜å¾—å¤„ç†æ¥è‡ªåº•å±‚çš„å¯å¿½ç•¥çš„å¼‚å¸¸ã€‚ä¹Ÿä¸èƒ½åŒæ—¶å¤„ç†å¤šä¸ª socket ã€‚</p><p>ç„¶å 10 æ¬¡ä¸‹è½½ä»»åŠ¡ä»ç„¶æŒ‰åºè¿›è¡Œã€‚æ‰€ä»¥æ€»ä½“æ‰§è¡Œæ—¶é—´å’ŒåŒæ­¥é˜»å¡ç›¸å½“ã€‚å¦‚æœéå¾—è¿™æ ·å­ï¼Œé‚£è¿˜ä¸å¦‚åŒæ­¥é˜»å¡ç®—äº†ã€‚</p><h5 id="é™„-ä½¿ç”¨ä¸Šå¤ç¥å™¨geventå¹¶å‘" tabindex="-1"><a class="header-anchor" href="#é™„-ä½¿ç”¨ä¸Šå¤ç¥å™¨geventå¹¶å‘" aria-hidden="true">#</a> <strong>é™„ï¼šä½¿ç”¨ä¸Šå¤ç¥å™¨<code>gevent</code>å¹¶å‘</strong></h5><p>ä½¿ç”¨<code>gevent</code> åº“ï¼Œè¯¥åº“å€ŸåŠ©äº <code>greenlet</code> è·å¾—äº†è¿˜è¡Œçš„å¹¶å‘æ€§èƒ½ï¼Œä½† <code>gevent</code> åªèƒ½åœ¨ <code>Unix/Linux</code> ä¸‹æ­£å¸¸è¿è¡Œï¼Œ<code>windows </code> æ— æ³•ä¿è¯</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>å®‰è£… geventï¼š

pip <span class="token function">install</span> gevent
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æœåŠ¡ç«¯ï¼š</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> gevent

<span class="token keyword">from</span> gevent <span class="token keyword">import</span> socket<span class="token punctuation">,</span> monkey

monkey<span class="token punctuation">.</span>patch_all<span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment"># monkeyè¡¥ä¸ï¼Œç”¨æ¥æœ€å¤§ç¨‹åº¦ç›‘å¬IOé˜»å¡</span>


<span class="token keyword">def</span> <span class="token function">start_server</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">:</span>
    sk <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sk<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">)</span>
    sk<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>

    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        conn<span class="token punctuation">,</span> addr <span class="token operator">=</span> sk<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;client accept address:&quot;</span><span class="token punctuation">,</span> addr<span class="token punctuation">)</span>
        gevent<span class="token punctuation">.</span>spawn<span class="token punctuation">(</span>handle_request<span class="token punctuation">,</span> conn<span class="token punctuation">)</span>  <span class="token comment"># æ¯æ¬¡è¿æ¥æˆåŠŸéƒ½åˆ›å»ºä¸€ä¸ªGreenletå¯¹è±¡</span>


<span class="token keyword">def</span> <span class="token function">handle_request</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            data <span class="token operator">=</span> conn<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Received:&quot;</span><span class="token punctuation">,</span> <span class="token builtin">repr</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
            conn<span class="token punctuation">.</span>send<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">finally</span><span class="token punctuation">:</span>
        conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>


start_server<span class="token punctuation">(</span><span class="token number">8004</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å®¢æˆ·ç«¯ï¼š</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> threading
<span class="token keyword">import</span> socket


<span class="token keyword">def</span> <span class="token function">sock_conn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    client <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>

    client<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">8004</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  <span class="token comment"># æ­»å¾ªç¯ï¼Œä¸æ–­å‘é€ hello + æ¬¡æ•°</span>
        client<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;hello %s&quot;</span> <span class="token operator">%</span> count<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        data <span class="token operator">=</span> client<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;[%s]recv from server:&quot;</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>get_ident<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ç»“æœ</span>
        count <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token comment"># client.close()</span>


<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># å¹¶å‘100ä¸ªsocketè¿æ¥</span>
    t <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>sock_conn<span class="token punctuation">)</span>
    t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5-éé˜»å¡æ”¹è¿›" tabindex="-1"><a class="header-anchor" href="#_3-5-éé˜»å¡æ”¹è¿›" aria-hidden="true">#</a> 3.5 éé˜»å¡æ”¹è¿›</h3><h4 id="_3-5-1-epoll" tabindex="-1"><a class="header-anchor" href="#_3-5-1-epoll" aria-hidden="true">#</a> 3.5.1 epoll</h4><p>åˆ¤æ–­éé˜»å¡è°ƒç”¨æ˜¯å¦å°±ç»ªå¦‚æœ OS èƒ½åšï¼Œæ˜¯ä¸æ˜¯åº”ç”¨ç¨‹åºå°±å¯ä»¥ä¸ç”¨è‡ªå·±å»ç­‰å¾…å’Œåˆ¤æ–­äº†ï¼Œå°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªç©ºé—²å»åšå…¶ä»–äº‹æƒ…ä»¥æé«˜æ•ˆç‡ã€‚</p><p>æ‰€ä»¥ OS å°† I/O çŠ¶æ€çš„å˜åŒ–éƒ½å°è£…æˆäº†äº‹ä»¶ï¼Œå¦‚å¯è¯»äº‹ä»¶ã€å¯å†™äº‹ä»¶ã€‚å¹¶ä¸”æä¾›äº†ä¸“é—¨çš„ç³»ç»Ÿæ¨¡å—è®©åº”ç”¨ç¨‹åºå¯ä»¥æ¥æ”¶äº‹ä»¶é€šçŸ¥ã€‚è¿™ä¸ªæ¨¡å—å°±æ˜¯ selectã€‚ è®©åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ select æ³¨å†Œæ–‡ä»¶æè¿°ç¬¦å’Œå›è°ƒå‡½æ•°ã€‚å½“æ–‡ä»¶æè¿°ç¬¦çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œselect å°±è°ƒç”¨äº‹å…ˆæ³¨å†Œçš„å›è°ƒå‡½æ•°ã€‚</p><p>select å› å…¶ç®—æ³•æ•ˆç‡æ¯”è¾ƒä½ï¼Œåæ¥æ”¹è¿›æˆäº† pollï¼Œå†åæ¥åˆæœ‰è¿›ä¸€æ­¥æ”¹è¿›ï¼ŒBSD å†…æ ¸æ”¹è¿›æˆäº† kqueue æ¨¡å—ï¼Œè€Œ Linux å†…æ ¸æ”¹è¿›æˆäº† epoll æ¨¡å—ã€‚è¿™å››ä¸ª æ¨¡å—çš„ä½œç”¨éƒ½ç›¸åŒï¼Œæš´éœ²ç»™ç¨‹åºå‘˜ä½¿ç”¨çš„ API ä¹Ÿå‡ ä¹ä¸€è‡´ï¼ŒåŒºåˆ«åœ¨äº kqueue å’Œ epoll åœ¨å¤„ç†å¤§é‡æ–‡ä»¶æè¿°ç¬¦æ—¶æ•ˆç‡æ›´é«˜ã€‚</p><p>é‰´äº Linux æœåŠ¡å™¨çš„æ™®éæ€§ï¼Œä»¥åŠä¸ºäº†è¿½æ±‚æ›´é«˜æ•ˆç‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸¸å¸¸å¬é—»è¢«æ¢è®¨çš„æ¨¡å—éƒ½æ˜¯ epoll ã€‚</p><h4 id="_3-5-2-å›è°ƒ-callback" tabindex="-1"><a class="header-anchor" href="#_3-5-2-å›è°ƒ-callback" aria-hidden="true">#</a> 3.5.2 å›è°ƒ(Callback)</h4><p>æŠŠ I/O äº‹ä»¶çš„ç­‰å¾…å’Œç›‘å¬ä»»åŠ¡äº¤ç»™äº† OSï¼Œé‚£ OS åœ¨çŸ¥é“ I/O çŠ¶æ€å‘ç”Ÿæ”¹å˜åï¼ˆä¾‹å¦‚ socket è¿æ¥å·²å»ºç«‹æˆåŠŸå¯å‘é€æ•°æ®ï¼‰ï¼Œå®ƒåˆæ€ä¹ˆçŸ¥é“æ¥ä¸‹æ¥è¯¥å¹²å˜› å‘¢ï¼Ÿåªèƒ½å›è°ƒã€‚</p><p>éœ€è¦æˆ‘ä»¬å°†å‘é€æ•°æ®ä¸è¯»å–æ•°æ®å°è£…æˆç‹¬ç«‹çš„å‡½æ•°ï¼Œè®© epoll ä»£æ›¿åº”ç”¨ç¨‹åºç›‘å¬ socket çŠ¶æ€æ—¶ï¼Œå¾—å‘Šè¯‰ epollï¼šâ€œå¦‚æœ socket çŠ¶æ€å˜ä¸ºå¯ä»¥å¾€é‡Œå†™æ•°æ® ï¼ˆè¿æ¥å»ºç«‹æˆåŠŸäº†ï¼‰ï¼Œè¯·è°ƒç”¨ HTTP è¯·æ±‚å‘é€å‡½æ•°ã€‚å¦‚æœ socket å˜ä¸ºå¯ä»¥è¯»æ•°æ®äº†ï¼ˆå®¢æˆ·ç«¯å·²æ”¶åˆ°å“åº”ï¼‰ï¼Œè¯·è°ƒç”¨å“åº”å¤„ç†å‡½æ•°ã€‚â€</p><p>äºæ˜¯æˆ‘ä»¬åˆ©ç”¨ epoll ç»“åˆå›è°ƒæœºåˆ¶é‡æ„çˆ¬è™«ä»£ç ï¼š</p></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/10/8 09:58:06</span></div><!----></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2023 äº”åå²š</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.ffe93e19.js" defer></script>
  </body>
</html>
